(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const yn=(e,t)=>e===t,De=Symbol("solid-proxy"),mn=Symbol("solid-track"),Ne={equals:yn};let Kt=en;const re=1,je=2,Vt={owned:null,cleanups:null,context:null,owner:null};var D=null;let Qe=null,R=null,B=null,ee=null,Ge=0;function xe(e,t){const n=R,s=D,r=e.length===0,o=r?Vt:{owned:null,cleanups:null,context:null,owner:t===void 0?s:t},a=r?e:()=>e(()=>J(()=>He(o)));D=o,R=null;try{return ae(a,!0)}finally{R=n,D=s}}function U(e,t){t=t?Object.assign({},Ne,t):Ne;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),Jt(n,r));return[Qt.bind(n),s]}function Q(e,t,n){const s=gt(e,t,!1,re);Me(s)}function Xt(e,t,n){Kt=Mn;const s=gt(e,t,!1,re);(!n||!n.render)&&(s.user=!0),ee?ee.push(s):Me(s)}function W(e,t,n){n=n?Object.assign({},Ne,n):Ne;const s=gt(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,Me(s),Qt.bind(s)}function J(e){if(R===null)return e();const t=R;R=null;try{return e()}finally{R=t}}function Yt(e,t,n){const s=Array.isArray(e);let r,o=n&&n.defer;return a=>{let i;if(s){i=Array(e.length);for(let u=0;u<e.length;u++)i[u]=e[u]()}else i=e();if(o){o=!1;return}const c=J(()=>t(i,r,a));return r=i,c}}function ve(e){return D===null||(D.cleanups===null?D.cleanups=[e]:D.cleanups.push(e)),e}function bn(){return D}function wn(e,t){const n=D,s=R;D=e,R=null;try{return ae(t,!0)}catch(r){yt(r)}finally{D=n,R=s}}function xn(e){const t=R,n=D;return Promise.resolve().then(()=>{R=t,D=n;let s;return ae(e,!1),R=D=null,s?s.done:void 0})}function Zt(e,t){const n=Symbol("context");return{id:n,Provider:$n(n),defaultValue:e}}function dt(e){let t;return(t=nn(D,e.id))!==void 0?t:e.defaultValue}function pt(e){const t=W(e),n=W(()=>st(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function Qt(){if(this.sources&&this.state)if(this.state===re)Me(this);else{const e=B;B=null,ae(()=>We(this),!1),B=e}if(R){const e=this.observers?this.observers.length:0;R.sources?(R.sources.push(this),R.sourceSlots.push(e)):(R.sources=[this],R.sourceSlots=[e]),this.observers?(this.observers.push(R),this.observerSlots.push(R.sources.length-1)):(this.observers=[R],this.observerSlots=[R.sources.length-1])}return this.value}function Jt(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&ae(()=>{for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r],a=Qe&&Qe.running;a&&Qe.disposed.has(o),(a?!o.tState:!o.state)&&(o.pure?B.push(o):ee.push(o),o.observers&&tn(o)),a||(o.state=re)}if(B.length>1e6)throw B=[],new Error},!1)),t}function Me(e){if(!e.fn)return;He(e);const t=D,n=R,s=Ge;R=D=e,kn(e,e.value,s),R=n,D=t}function kn(e,t,n){let s;try{s=e.fn(t)}catch(r){return e.pure&&(e.state=re,e.owned&&e.owned.forEach(He),e.owned=null),e.updatedAt=n+1,yt(r)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Jt(e,s):e.value=s,e.updatedAt=n)}function gt(e,t,n,s=re,r){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:D,context:null,pure:n};return D===null||D!==Vt&&(D.owned?D.owned.push(o):D.owned=[o]),o}function ze(e){if(e.state===0)return;if(e.state===je)return We(e);if(e.suspense&&J(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ge);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===re)Me(e);else if(e.state===je){const s=B;B=null,ae(()=>We(e,t[0]),!1),B=s}}function ae(e,t){if(B)return e();let n=!1;t||(B=[]),ee?n=!0:ee=[],Ge++;try{const s=e();return vn(n),s}catch(s){n||(ee=null),B=null,yt(s)}}function vn(e){if(B&&(en(B),B=null),e)return;const t=ee;ee=null,t.length&&ae(()=>Kt(t),!1)}function en(e){for(let t=0;t<e.length;t++)ze(e[t])}function Mn(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:ze(s)}for(t=0;t<n;t++)ze(e[t])}function We(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const r=s.state;r===re?s!==t&&(!s.updatedAt||s.updatedAt<Ge)&&ze(s):r===je&&We(s,t)}}}function tn(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=je,n.pure?B.push(n):ee.push(n),n.observers&&tn(n))}}function He(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),a=n.observerSlots.pop();s<r.length&&(o.sourceSlots[a]=s,r[s]=o,n.observerSlots[s]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)He(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Pn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function yt(e,t=D){throw Pn(e)}function nn(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:nn(e.owner,t):void 0}function st(e){if(typeof e=="function"&&!e.length)return st(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=st(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function $n(e,t){return function(s){let r;return Q(()=>r=J(()=>(D.context={[e]:s.value},pt(()=>s.children))),void 0),r}}const Sn=Symbol("fallback");function Mt(e){for(let t=0;t<e.length;t++)e[t]()}function An(e,t,n={}){let s=[],r=[],o=[],a=0,i=t.length>1?[]:null;return ve(()=>Mt(o)),()=>{let c=e()||[],u,l;return c[mn],J(()=>{let p=c.length,f,h,y,m,v,S,_,I,A;if(p===0)a!==0&&(Mt(o),o=[],s=[],r=[],a=0,i&&(i=[])),n.fallback&&(s=[Sn],r[0]=xe(N=>(o[0]=N,n.fallback())),a=1);else if(a===0){for(r=new Array(p),l=0;l<p;l++)s[l]=c[l],r[l]=xe(d);a=p}else{for(y=new Array(p),m=new Array(p),i&&(v=new Array(p)),S=0,_=Math.min(a,p);S<_&&s[S]===c[S];S++);for(_=a-1,I=p-1;_>=S&&I>=S&&s[_]===c[I];_--,I--)y[I]=r[_],m[I]=o[_],i&&(v[I]=i[_]);for(f=new Map,h=new Array(I+1),l=I;l>=S;l--)A=c[l],u=f.get(A),h[l]=u===void 0?-1:u,f.set(A,l);for(u=S;u<=_;u++)A=s[u],l=f.get(A),l!==void 0&&l!==-1?(y[l]=r[u],m[l]=o[u],i&&(v[l]=i[u]),l=h[l],f.set(A,l)):o[u]();for(l=S;l<p;l++)l in y?(r[l]=y[l],o[l]=m[l],i&&(i[l]=v[l],i[l](l))):r[l]=xe(d);r=r.slice(0,a=p),s=c.slice(0)}return r});function d(p){if(o[l]=p,i){const[f,h]=U(l);return i[l]=h,t(c[l],f)}return t(c[l])}}}function j(e,t){return J(()=>e(t||{}))}function Le(){return!0}const rt={get(e,t,n){return t===De?n:e.get(t)},has(e,t){return t===De?!0:e.has(t)},set:Le,deleteProperty:Le,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Le,deleteProperty:Le}},ownKeys(e){return e.keys()}};function Je(e){return(e=typeof e=="function"?e():e)?e:{}}function Ln(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function ot(...e){let t=!1;for(let o=0;o<e.length;o++){const a=e[o];t=t||!!a&&De in a,e[o]=typeof a=="function"?(t=!0,W(a)):a}if(t)return new Proxy({get(o){for(let a=e.length-1;a>=0;a--){const i=Je(e[a])[o];if(i!==void 0)return i}},has(o){for(let a=e.length-1;a>=0;a--)if(o in Je(e[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<e.length;a++)o.push(...Object.keys(Je(e[a])));return[...new Set(o)]}},rt);const n={},s={},r=new Set;for(let o=e.length-1;o>=0;o--){const a=e[o];if(!a)continue;const i=Object.getOwnPropertyNames(a);for(let c=0,u=i.length;c<u;c++){const l=i[c];if(l==="__proto__"||l==="constructor")continue;const d=Object.getOwnPropertyDescriptor(a,l);if(!r.has(l))d.get?(r.add(l),Object.defineProperty(n,l,{enumerable:!0,configurable:!0,get:Ln.bind(s[l]=[d.get.bind(a)])})):(d.value!==void 0&&r.add(l),n[l]=d.value);else{const p=s[l];p?d.get?p.push(d.get.bind(a)):d.value!==void 0&&p.push(()=>d.value):n[l]===void 0&&(n[l]=d.value)}}}return n}function En(e,...t){if(De in e){const r=new Set(t.length>1?t.flat():t[0]),o=t.map(a=>new Proxy({get(i){return a.includes(i)?e[i]:void 0},has(i){return a.includes(i)&&i in e},keys(){return a.filter(i=>i in e)}},rt));return o.push(new Proxy({get(a){return r.has(a)?void 0:e[a]},has(a){return r.has(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!r.has(a))}},rt)),o}const n={},s=t.map(()=>({}));for(const r of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,r),a=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let i=!1,c=0;for(const u of t)u.includes(r)&&(i=!0,a?s[c][r]=o.value:Object.defineProperty(s[c],r,o)),++c;i||(a?n[r]=o.value:Object.defineProperty(n,r,o))}return[...s,n]}const On=e=>`Stale read from <${e}>.`;function _n(e){const t="fallback"in e&&{fallback:()=>e.fallback};return W(An(()=>e.each,e.children,t||void 0))}function fe(e){const t=e.keyed,n=W(()=>e.when,void 0,{equals:(s,r)=>t?s===r:!s==!r});return W(()=>{const s=n();if(s){const r=e.children;return typeof r=="function"&&r.length>0?J(()=>r(t?s:()=>{if(!J(n))throw On("Show");return e.when})):r}return e.fallback},void 0,void 0)}const Tn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Cn=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Tn]),In=new Set(["innerHTML","textContent","innerText","children"]),Rn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Dn=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Nn(e,t){const n=Dn[e];return typeof n=="object"?n[t]?n.$:void 0:n}const jn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),zn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Wn(e,t,n){let s=n.length,r=t.length,o=s,a=0,i=0,c=t[r-1].nextSibling,u=null;for(;a<r||i<o;){if(t[a]===n[i]){a++,i++;continue}for(;t[r-1]===n[o-1];)r--,o--;if(r===a){const l=o<s?i?n[i-1].nextSibling:n[o-i]:c;for(;i<o;)e.insertBefore(n[i++],l)}else if(o===i)for(;a<r;)(!u||!u.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[o-1]&&n[i]===t[r-1]){const l=t[--r].nextSibling;e.insertBefore(n[i++],t[a++].nextSibling),e.insertBefore(n[--o],l),t[r]=n[o]}else{if(!u){u=new Map;let d=i;for(;d<o;)u.set(n[d],d++)}const l=u.get(t[a]);if(l!=null)if(i<l&&l<o){let d=a,p=1,f;for(;++d<r&&d<o&&!((f=u.get(t[d]))==null||f!==l+p);)p++;if(p>l-i){const h=t[a];for(;i<l;)e.insertBefore(n[i++],h)}else e.replaceChild(n[i++],t[a++])}else a++;else t[a++].remove()}}}const Pt="_$DX_DELEGATE";function Fn(e,t,n,s={}){let r;return xe(o=>{r=o,t===document?e():Z(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function V(e,t,n){let s;const r=()=>{const a=document.createElement("template");return a.innerHTML=e,n?a.content.firstChild.firstChild:a.content.firstChild},o=t?()=>J(()=>document.importNode(s||(s=r()),!0)):()=>(s||(s=r())).cloneNode(!0);return o.cloneNode=o,o}function mt(e,t=window.document){const n=t[Pt]||(t[Pt]=new Set);for(let s=0,r=e.length;s<r;s++){const o=e[s];n.has(o)||(n.add(o),t.addEventListener(o,Vn))}}function q(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function qn(e,t,n,s){s==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,s)}function we(e,t){t==null?e.removeAttribute("class"):e.className=t}function it(e,t,n,s){if(s)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=o=>r.call(e,n[1],o))}else e.addEventListener(t,n)}function Bn(e,t,n={}){const s=Object.keys(t||{}),r=Object.keys(n);let o,a;for(o=0,a=r.length;o<a;o++){const i=r[o];!i||i==="undefined"||t[i]||($t(e,i,!1),delete n[i])}for(o=0,a=s.length;o<a;o++){const i=s[o],c=!!t[i];!i||i==="undefined"||n[i]===c||!c||($t(e,i,!0),n[i]=c)}return n}function Un(e,t,n){if(!t)return n?q(e,"style"):t;const s=e.style;if(typeof t=="string")return s.cssText=t;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),t||(t={});let r,o;for(o in n)t[o]==null&&s.removeProperty(o),delete n[o];for(o in t)r=t[o],r!==n[o]&&(s.setProperty(o,r),n[o]=r);return n}function Gn(e,t={},n,s){const r={};return s||Q(()=>r.children=de(e,t.children,r.children)),Q(()=>t.ref&&t.ref(e)),Q(()=>Hn(e,t,n,!0,r,!0)),r}function Z(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return de(e,t,s,n);Q(r=>de(e,t(),r,n),s)}function Hn(e,t,n,s,r={},o=!1){t||(t={});for(const a in r)if(!(a in t)){if(a==="children")continue;r[a]=St(e,a,null,r[a],n,o)}for(const a in t){if(a==="children"){s||de(e,t.children);continue}const i=t[a];r[a]=St(e,a,i,r[a],n,o)}}function Kn(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function $t(e,t,n){const s=t.trim().split(/\s+/);for(let r=0,o=s.length;r<o;r++)e.classList.toggle(s[r],n)}function St(e,t,n,s,r,o){let a,i,c,u,l;if(t==="style")return Un(e,n,s);if(t==="classList")return Bn(e,n,s);if(n===s)return s;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);s&&e.removeEventListener(d,s),n&&e.addEventListener(d,n)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);s&&e.removeEventListener(d,s,!0),n&&e.addEventListener(d,n,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),p=jn.has(d);if(!p&&s){const f=Array.isArray(s)?s[0]:s;e.removeEventListener(d,f)}(p||n)&&(it(e,d,n,p),p&&mt([d]))}else if(t.slice(0,5)==="attr:")q(e,t.slice(5),n);else if((l=t.slice(0,5)==="prop:")||(c=In.has(t))||!r&&((u=Nn(t,e.tagName))||(i=Cn.has(t)))||(a=e.nodeName.includes("-")))l&&(t=t.slice(5),i=!0),t==="class"||t==="className"?we(e,n):a&&!i&&!c?e[Kn(t)]=n:e[u||t]=n;else{const d=r&&t.indexOf(":")>-1&&zn[t.split(":")[0]];d?qn(e,d,t,n):q(e,Rn[t]||t,n)}return n}function Vn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const s=n[t];if(s&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?s.call(n,r,e):s.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function de(e,t,n,s,r){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,a=s!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,o==="string"||o==="number")if(o==="number"&&(t=t.toString()),a){let i=n[0];i&&i.nodeType===3?i.data=t:i=document.createTextNode(t),n=ce(e,n,s,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||o==="boolean")n=ce(e,n,s);else{if(o==="function")return Q(()=>{let i=t();for(;typeof i=="function";)i=i();n=de(e,i,n,s)}),()=>n;if(Array.isArray(t)){const i=[],c=n&&Array.isArray(n);if(at(i,t,n,r))return Q(()=>n=de(e,i,n,s,!0)),()=>n;if(i.length===0){if(n=ce(e,n,s),a)return n}else c?n.length===0?At(e,i,s):Wn(e,n,i):(n&&ce(e),At(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(a)return n=ce(e,n,s,t);ce(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function at(e,t,n,s){let r=!1;for(let o=0,a=t.length;o<a;o++){let i=t[o],c=n&&n[o],u;if(!(i==null||i===!0||i===!1))if((u=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=at(e,i,c)||r;else if(u==="function")if(s){for(;typeof i=="function";)i=i();r=at(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||r}else e.push(i),r=!0;else{const l=String(i);c&&c.nodeType===3&&c.data===l?e.push(c):e.push(document.createTextNode(l))}}return r}function At(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function ce(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const i=t[a];if(r!==i){const c=i.parentNode===e;!o&&!a?c?e.replaceChild(r,i):e.insertBefore(r,n):c&&i.remove()}else o=!0}}else e.insertBefore(r,n);return[r]}const Xn=!1;function Yn(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Zn([e,t],n,s){return[n?()=>n(e()):e,s?r=>t(s(r)):t]}function Qn(e){try{return document.querySelector(e)}catch{return null}}function Jn(e,t){const n=Qn(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function es(e,t,n,s){let r=!1;const o=i=>typeof i=="string"?{value:i}:i,a=Zn(U(o(e()),{equals:(i,c)=>i.value===c.value}),void 0,i=>(!r&&t(i),i));return n&&ve(n((i=e())=>{r=!0,a[1](o(i)),r=!1})),{signal:a,utils:s}}function ts(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:U({value:""})};return e}function ns(){return es(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:n,state:s})=>{t?window.history.replaceState(s,"",e):window.history.pushState(s,"",e),Jn(window.location.hash.slice(1),n)},e=>Yn(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}function ss(){let e=new Set;function t(r){return e.add(r),()=>e.delete(r)}let n=!1;function s(r,o){if(n)return!(n=!1);const a={to:r,options:o,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const i of e)i.listener({...a,from:i.location,retry:c=>{c&&(n=!0),i.navigate(r,o)}});return!a.defaultPrevented}return{subscribe:t,confirm:s}}const rs=/^(?:[a-z0-9]+:)?\/\//i,os=/^\/+|(\/)\/+$/g;function ie(e,t=!1){const n=e.replace(os,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Ce(e,t,n){if(rs.test(t))return;const s=ie(e),r=n&&ie(n);let o="";return!r||t.startsWith("/")?o=s:r.toLowerCase().indexOf(s.toLowerCase())!==0?o=s+r:o=r,(o||"/")+ie(t,!o)}function is(e,t){if(e==null)throw new Error(t);return e}function sn(e,t){return ie(e).replace(/\/*(\*.*)?$/g,"")+ie(t)}function as(e){const t={};return e.searchParams.forEach((n,s)=>{t[s]=n}),t}function ls(e,t,n){const[s,r]=e.split("/*",2),o=s.split("/").filter(Boolean),a=o.length;return i=>{const c=i.split("/").filter(Boolean),u=c.length-a;if(u<0||u>0&&r===void 0&&!t)return null;const l={path:a?"":"/",params:{}},d=p=>n===void 0?void 0:n[p];for(let p=0;p<a;p++){const f=o[p],h=c[p],y=f[0]===":",m=y?f.slice(1):f;if(y&&et(h,d(m)))l.params[m]=h;else if(y||!et(h,f))return null;l.path+=`/${h}`}if(r){const p=u?c.slice(-u).join("/"):"";if(et(p,d(r)))l.params[r]=p;else return null}return l}}function et(e,t){const n=s=>s.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function cs(e){const[t,n]=e.pattern.split("/*",2),s=t.split("/").filter(Boolean);return s.reduce((r,o)=>r+(o.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function rn(e){const t=new Map,n=bn();return new Proxy({},{get(s,r){return t.has(r)||wn(n,()=>t.set(r,W(()=>e()[r]))),t.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function on(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),s=e.slice(t.index+t[0].length);const r=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(s);)r.push(n+=t[1]),s=s.slice(t[0].length);return on(s).reduce((o,a)=>[...o,...r.map(i=>i+a)],[])}const us=100,an=Zt(),Ke=Zt(),Ve=()=>is(dt(an),"Make sure your app is wrapped in a <Router />");let ke;const bt=()=>ke||dt(Ke)||Ve().base,hs=e=>{const t=bt();return W(()=>t.resolvePath(e()))},fs=e=>{const t=Ve();return W(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},ds=()=>Ve().location;function ps(e,t="",n){const{component:s,data:r,children:o}=e,a=!o||Array.isArray(o)&&!o.length,i={key:e,element:s?()=>j(s,{}):()=>{const{element:c}=e;return c===void 0&&n?j(n,{}):c},preload:e.component?s.preload:e.preload,data:r};return ln(e.path).reduce((c,u)=>{for(const l of on(u)){const d=sn(t,l),p=a?d:d.split("/*",1)[0];c.push({...i,originalPath:l,pattern:p,matcher:ls(p,!a,e.matchFilters)})}return c},[])}function gs(e,t=0){return{routes:e,score:cs(e[e.length-1])*1e4-t,matcher(n){const s=[];for(let r=e.length-1;r>=0;r--){const o=e[r],a=o.matcher(n);if(!a)return null;s.unshift({...a,route:o})}return s}}}function ln(e){return Array.isArray(e)?e:[e]}function cn(e,t="",n,s=[],r=[]){const o=ln(e);for(let a=0,i=o.length;a<i;a++){const c=o[a];if(c&&typeof c=="object"&&c.hasOwnProperty("path")){const u=ps(c,t,n);for(const l of u){s.push(l);const d=Array.isArray(c.children)&&c.children.length===0;if(c.children&&!d)cn(c.children,l.pattern,n,s,r);else{const p=gs([...s],r.length);r.push(p)}s.pop()}}}return s.length?r:r.sort((a,i)=>i.score-a.score)}function ys(e,t){for(let n=0,s=e.length;n<s;n++){const r=e[n].matcher(t);if(r)return r}return[]}function ms(e,t){const n=new URL("http://sar"),s=W(c=>{const u=e();try{return new URL(u,n)}catch{return console.error(`Invalid path ${u}`),c}},n,{equals:(c,u)=>c.href===u.href}),r=W(()=>s().pathname),o=W(()=>s().search,!0),a=W(()=>s().hash),i=W(()=>"");return{get pathname(){return r()},get search(){return o()},get hash(){return a()},get state(){return t()},get key(){return i()},query:rn(Yt(o,()=>as(s())))}}function bs(e,t="",n,s){const{signal:[r,o],utils:a={}}=ts(e),i=a.parsePath||(g=>g),c=a.renderPath||(g=>g),u=a.beforeLeave||ss(),l=Ce("",t),d=void 0;if(l===void 0)throw new Error(`${l} is not a valid base path`);l&&!r().value&&o({value:l,replace:!0,scroll:!1});const[p,f]=U(!1),h=async g=>{f(!0);try{await xn(g)}finally{f(!1)}},[y,m]=U(r().value),[v,S]=U(r().state),_=ms(y,v),I=[],A={pattern:l,params:{},path:()=>l,outlet:()=>null,resolvePath(g){return Ce(l,g)}};if(n)try{ke=A,A.data=n({data:void 0,params:{},location:_,navigate:F(A)})}finally{ke=void 0}function N(g,b,x){J(()=>{if(typeof b=="number"){b&&(a.go?u.confirm(b,x)&&a.go(b):console.warn("Router integration does not support relative routing"));return}const{replace:M,resolve:k,scroll:E,state:O}={replace:!1,resolve:!0,scroll:!0,...x},P=k?g.resolvePath(b):Ce("",b);if(P===void 0)throw new Error(`Path '${b}' is not a routable path`);if(I.length>=us)throw new Error("Too many redirects");const T=y();if((P!==T||O!==v())&&!Xn){if(u.confirm(P,x)){const C=I.push({value:T,replace:M,scroll:E,state:v()});h(()=>{m(P),S(O)}).then(()=>{I.length===C&&z({value:P,state:O})})}}})}function F(g){return g=g||dt(Ke)||A,(b,x)=>N(g,b,x)}function z(g){const b=I[0];b&&((g.value!==b.value||g.state!==b.state)&&o({...g,replace:b.replace,scroll:b.scroll}),I.length=0)}Q(()=>{const{value:g,state:b}=r();J(()=>{g!==y()&&h(()=>{m(g),S(b)})})});{let g=function(b){if(b.defaultPrevented||b.button!==0||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)return;const x=b.composedPath().find(T=>T instanceof Node&&T.nodeName.toUpperCase()==="A");if(!x||!x.hasAttribute("link"))return;const M=x.href;if(x.target||!M&&!x.hasAttribute("state"))return;const k=(x.getAttribute("rel")||"").split(/\s+/);if(x.hasAttribute("download")||k&&k.includes("external"))return;const E=new URL(M);if(E.origin!==window.location.origin||l&&E.pathname&&!E.pathname.toLowerCase().startsWith(l.toLowerCase()))return;const O=i(E.pathname+E.search+E.hash),P=x.getAttribute("state");b.preventDefault(),N(A,O,{resolve:!1,replace:x.hasAttribute("replace"),scroll:!x.hasAttribute("noscroll"),state:P&&JSON.parse(P)})};var w=g;mt(["click"]),document.addEventListener("click",g),ve(()=>document.removeEventListener("click",g))}return{base:A,out:d,location:_,isRouting:p,renderPath:c,parsePath:i,navigatorFactory:F,beforeLeave:u}}function ws(e,t,n,s,r){const{base:o,location:a,navigatorFactory:i}=e,{pattern:c,element:u,preload:l,data:d}=s().route,p=W(()=>s().path);l&&l();const f={parent:t,pattern:c,get child(){return n()},path:p,params:r,data:t.data,outlet:u,resolvePath(h){return Ce(o.path(),h,p())}};if(d)try{ke=f,f.data=d({data:t.data,params:r,location:a,navigate:i(f)})}finally{ke=void 0}return f}const xs=V("<a link>"),ks=e=>{const{source:t,url:n,base:s,data:r,out:o}=e,a=t||ns(),i=bs(a,s,r);return j(an.Provider,{value:i,get children(){return e.children}})},vs=e=>{const t=Ve(),n=bt(),s=pt(()=>e.children),r=W(()=>cn(s(),sn(n.pattern,e.base||""),Ms)),o=W(()=>ys(r(),t.location.pathname)),a=rn(()=>{const l=o(),d={};for(let p=0;p<l.length;p++)Object.assign(d,l[p].params);return d});t.out&&t.out.matches.push(o().map(({route:l,path:d,params:p})=>({originalPath:l.originalPath,pattern:l.pattern,path:d,params:p})));const i=[];let c;const u=W(Yt(o,(l,d,p)=>{let f=d&&l.length===d.length;const h=[];for(let y=0,m=l.length;y<m;y++){const v=d&&d[y],S=l[y];p&&v&&S.route.key===v.route.key?h[y]=p[y]:(f=!1,i[y]&&i[y](),xe(_=>{i[y]=_,h[y]=ws(t,h[y-1]||n,()=>u()[y+1],()=>o()[y],a)}))}return i.splice(l.length).forEach(y=>y()),p&&f?p:(c=h[0],h)}));return j(fe,{get when(){return u()&&c},keyed:!0,children:l=>j(Ke.Provider,{value:l,get children(){return l.outlet()}})})},Lt=e=>{const t=pt(()=>e.children);return ot(e,{get children(){return t()}})},Ms=()=>{const e=bt();return j(fe,{get when(){return e.child},keyed:!0,children:t=>j(Ke.Provider,{value:t,get children(){return t.outlet()}})})};function lt(e){e=ot({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=En(e,["href","state","class","activeClass","inactiveClass","end"]),n=hs(()=>e.href),s=fs(n),r=ds(),o=W(()=>{const a=n();if(a===void 0)return!1;const i=ie(a.split(/[?#]/,1)[0]).toLowerCase(),c=ie(r.pathname).toLowerCase();return e.end?i===c:c.startsWith(i)});return(()=>{const a=xs();return Gn(a,ot(t,{get href(){return s()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!o(),[e.activeClass]:o(),...t.classList}},get"aria-current"(){return o()?"page":void 0}}),!1,!1),a})()}const Ps=e=>j(lt,{class:"button",get href(){return e.path??""},get onClick(){return e.onClick},get children(){return e.text}});const $s=e=>{const[t,n]=U(0),[s,r]=U("typing"),[o,a]=U(""),i=100,c=2e3,u=70,l=700;return Xt(()=>{let d;switch(s()){case"typing":{const p=e[t()].slice(0,o().length+1);if(p===o()){r("pausing");break}d=setTimeout(()=>{a(p)},i);break}case"pausing":{d=setTimeout(()=>{r("deleting")},c);break}case"deleting":{const p=o().slice(0,-1);o()||(d=setTimeout(()=>{const f=t()+1;n(e[f]?f:0),r("typing")},l)),d=setTimeout(()=>{a(p)},u);break}}ve(()=>clearTimeout(d))}),{currentTypingText:o,currentText:e[t()]}},Ss=V('<span class="typewriter-cursor">'),As=e=>{const{currentTypingText:t,currentText:n}=$s(e.textsToType);return(()=>{const s=Ss();return q(s,"aria-label",n),Z(s,t),s})()},Ls=V('<div id="welcome-section"><p id="keywords"><span>Simple.</span><span>Interactive.</span><span>Customizable.</span></p><p id="description">Explore <span id="name">Itervisus</span>, your platform to create whiteboards. Use <span id="name">Itervisus</span> to </p><em id="work-in-progress">This project is still a work in progress. Therefore, many features are not yet available or not fully functional.'),Es=()=>{const e=["brainstorm ideas","draw diagrams"];return(()=>{const t=Ls(),n=t.firstChild,s=n.nextSibling;return s.firstChild.nextSibling.nextSibling.nextSibling.nextSibling,s.nextSibling,Z(s,j(As,{textsToType:e}),null),Z(t,j(Ps,{text:"Create a new whiteboard",path:"workspace"}),null),t})()};const Os=()=>{const[e,t]=U(!1);ve(()=>{window.removeEventListener("scroll",n)});const n=()=>{t(window.scrollY>0)};return window.addEventListener("scroll",n),e},_s=V('<div class="navigation-bar"><nav><ul id="navigation-links">'),Ts=V('<div class="navigation-bar filler">'),Cs=V("<li>"),Is=e=>{const t=Os();return[(()=>{const n=_s(),s=n.firstChild,r=s.firstChild;return Z(n,j(lt,{id:"navigation-name",href:"/Itervisus/",children:"Itervisus"}),s),Z(r,j(_n,{get each(){return e.links},children:o=>(()=>{const a=Cs();return Z(a,j(lt,{class:"navigation-text",get href(){return o.path},get children(){return o.name}})),a})()})),Q(()=>n.classList.toggle("sticky",!!t())),n})(),Ts()]};function tt(e,t,n){if(e&&e.length){const[s,r]=t,o=Math.PI/180*n,a=Math.cos(o),i=Math.sin(o);e.forEach(c=>{const[u,l]=c;c[0]=(u-s)*a-(l-r)*i+s,c[1]=(u-s)*i+(l-r)*a+r})}}function Xe(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function Pe(e,t){const n=t.hachureAngle+90;let s=t.hachureGap;s<0&&(s=4*t.strokeWidth),s=Math.max(s,.1);const r=[0,0];if(n)for(const a of e)tt(a,r,n);const o=function(a,i){const c=[];for(const f of a){const h=[...f];h[0].join(",")!==h[h.length-1].join(",")&&h.push([h[0][0],h[0][1]]),h.length>2&&c.push(h)}const u=[];i=Math.max(i,.1);const l=[];for(const f of c)for(let h=0;h<f.length-1;h++){const y=f[h],m=f[h+1];if(y[1]!==m[1]){const v=Math.min(y[1],m[1]);l.push({ymin:v,ymax:Math.max(y[1],m[1]),x:v===y[1]?y[0]:m[0],islope:(m[0]-y[0])/(m[1]-y[1])})}}if(l.sort((f,h)=>f.ymin<h.ymin?-1:f.ymin>h.ymin?1:f.x<h.x?-1:f.x>h.x?1:f.ymax===h.ymax?0:(f.ymax-h.ymax)/Math.abs(f.ymax-h.ymax)),!l.length)return u;let d=[],p=l[0].ymin;for(;d.length||l.length;){if(l.length){let f=-1;for(let h=0;h<l.length&&!(l[h].ymin>p);h++)f=h;l.splice(0,f+1).forEach(h=>{d.push({s:p,edge:h})})}if(d=d.filter(f=>!(f.edge.ymax<=p)),d.sort((f,h)=>f.edge.x===h.edge.x?0:(f.edge.x-h.edge.x)/Math.abs(f.edge.x-h.edge.x)),d.length>1)for(let f=0;f<d.length;f+=2){const h=f+1;if(h>=d.length)break;const y=d[f].edge,m=d[h].edge;u.push([[Math.round(y.x),p],[Math.round(m.x),p]])}p+=i,d.forEach(f=>{f.edge.x=f.edge.x+i*f.edge.islope})}return u}(e,s);if(n){for(const a of e)tt(a,r,-n);(function(a,i,c){const u=[];a.forEach(l=>u.push(...l)),tt(u,i,c)})(o,r,-n)}return o}class wt{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){const s=Pe(t,n);return{type:"fillSketch",ops:this.renderLines(s,n)}}renderLines(t,n){const s=[];for(const r of t)s.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],n));return s}}let Rs=class extends wt{fillPolygons(t,n){let s=n.hachureGap;s<0&&(s=4*n.strokeWidth),s=Math.max(s,.1);const r=Pe(t,Object.assign({},n,{hachureGap:s})),o=Math.PI/180*n.hachureAngle,a=[],i=.5*s*Math.cos(o),c=.5*s*Math.sin(o);for(const[u,l]of r)Xe([u,l])&&a.push([[u[0]-i,u[1]+c],[...l]],[[u[0]+i,u[1]-c],[...l]]);return{type:"fillSketch",ops:this.renderLines(a,n)}}};class Ds extends wt{fillPolygons(t,n){const s=this._fillPolygons(t,n),r=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),o=this._fillPolygons(t,r);return s.ops=s.ops.concat(o.ops),s}}class Ns{constructor(t){this.helper=t}fillPolygons(t,n){const s=Pe(t,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(s,n)}dotsOnLines(t,n){const s=[];let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);let o=n.fillWeight;o<0&&(o=n.strokeWidth/2);const a=r/4;for(const i of t){const c=Xe(i),u=c/r,l=Math.ceil(u)-1,d=c-l*r,p=(i[0][0]+i[1][0])/2-r/4,f=Math.min(i[0][1],i[1][1]);for(let h=0;h<l;h++){const y=f+d+h*r,m=p-a+2*Math.random()*a,v=y-a+2*Math.random()*a,S=this.helper.ellipse(m,v,o,o,n);s.push(...S.ops)}}return{type:"fillSketch",ops:s}}}class js{constructor(t){this.helper=t}fillPolygons(t,n){const s=Pe(t,n);return{type:"fillSketch",ops:this.dashedLine(s,n)}}dashedLine(t,n){const s=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,r=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,o=[];return t.forEach(a=>{const i=Xe(a),c=Math.floor(i/(s+r)),u=(i+r-c*(s+r))/2;let l=a[0],d=a[1];l[0]>d[0]&&(l=a[1],d=a[0]);const p=Math.atan((d[1]-l[1])/(d[0]-l[0]));for(let f=0;f<c;f++){const h=f*(s+r),y=h+s,m=[l[0]+h*Math.cos(p)+u*Math.cos(p),l[1]+h*Math.sin(p)+u*Math.sin(p)],v=[l[0]+y*Math.cos(p)+u*Math.cos(p),l[1]+y*Math.sin(p)+u*Math.sin(p)];o.push(...this.helper.doubleLineOps(m[0],m[1],v[0],v[1],n))}}),o}}class zs{constructor(t){this.helper=t}fillPolygons(t,n){const s=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,r=n.zigzagOffset<0?s:n.zigzagOffset,o=Pe(t,n=Object.assign({},n,{hachureGap:s+r}));return{type:"fillSketch",ops:this.zigzagLines(o,r,n)}}zigzagLines(t,n,s){const r=[];return t.forEach(o=>{const a=Xe(o),i=Math.round(a/(2*n));let c=o[0],u=o[1];c[0]>u[0]&&(c=o[1],u=o[0]);const l=Math.atan((u[1]-c[1])/(u[0]-c[0]));for(let d=0;d<i;d++){const p=2*d*n,f=2*(d+1)*n,h=Math.sqrt(2*Math.pow(n,2)),y=[c[0]+p*Math.cos(l),c[1]+p*Math.sin(l)],m=[c[0]+f*Math.cos(l),c[1]+f*Math.sin(l)],v=[y[0]+h*Math.cos(l+Math.PI/4),y[1]+h*Math.sin(l+Math.PI/4)];r.push(...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],s),...this.helper.doubleLineOps(v[0],v[1],m[0],m[1],s))}}),r}}const G={};let Ws=class{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const Ee={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function nt(e,t){return e.type===t}function ct(e){const t=[],n=function(a){const i=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))i[i.length]={type:0,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];i[i.length]={type:1,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return i[i.length]={type:2,text:""},i}(e);let s="BOD",r=0,o=n[r];for(;!nt(o,2);){let a=0;const i=[];if(s==="BOD"){if(o.text!=="M"&&o.text!=="m")return ct("M0,0"+e);r++,a=Ee[o.text],s=o.text}else nt(o,1)?a=Ee[s]:(r++,a=Ee[o.text],s=o.text);if(!(r+a<n.length))throw new Error("Path data ended short");for(let c=r;c<r+a;c++){const u=n[c];if(!nt(u,1))throw new Error("Param not a number: "+s+","+u.text);i[i.length]=+u.text}if(typeof Ee[s]!="number")throw new Error("Bad segment: "+s);{const c={key:s,data:i};t.push(c),r+=a,o=n[r],s==="M"&&(s="L"),s==="m"&&(s="l")}}return t}function Et(e){let t=0,n=0,s=0,r=0;const o=[];for(const{key:a,data:i}of e)switch(a){case"M":o.push({key:"M",data:[...i]}),[t,n]=i,[s,r]=i;break;case"m":t+=i[0],n+=i[1],o.push({key:"M",data:[t,n]}),s=t,r=n;break;case"L":o.push({key:"L",data:[...i]}),[t,n]=i;break;case"l":t+=i[0],n+=i[1],o.push({key:"L",data:[t,n]});break;case"C":o.push({key:"C",data:[...i]}),t=i[4],n=i[5];break;case"c":{const c=i.map((u,l)=>l%2?u+n:u+t);o.push({key:"C",data:c}),t=c[4],n=c[5];break}case"Q":o.push({key:"Q",data:[...i]}),t=i[2],n=i[3];break;case"q":{const c=i.map((u,l)=>l%2?u+n:u+t);o.push({key:"Q",data:c}),t=c[2],n=c[3];break}case"A":o.push({key:"A",data:[...i]}),t=i[5],n=i[6];break;case"a":t+=i[5],n+=i[6],o.push({key:"A",data:[i[0],i[1],i[2],i[3],i[4],t,n]});break;case"H":o.push({key:"H",data:[...i]}),t=i[0];break;case"h":t+=i[0],o.push({key:"H",data:[t]});break;case"V":o.push({key:"V",data:[...i]}),n=i[0];break;case"v":n+=i[0],o.push({key:"V",data:[n]});break;case"S":o.push({key:"S",data:[...i]}),t=i[2],n=i[3];break;case"s":{const c=i.map((u,l)=>l%2?u+n:u+t);o.push({key:"S",data:c}),t=c[2],n=c[3];break}case"T":o.push({key:"T",data:[...i]}),t=i[0],n=i[1];break;case"t":t+=i[0],n+=i[1],o.push({key:"T",data:[t,n]});break;case"Z":case"z":o.push({key:"Z",data:[]}),t=s,n=r}return o}function Ot(e){const t=[];let n="",s=0,r=0,o=0,a=0,i=0,c=0;for(const{key:u,data:l}of e){switch(u){case"M":t.push({key:"M",data:[...l]}),[s,r]=l,[o,a]=l;break;case"C":t.push({key:"C",data:[...l]}),s=l[4],r=l[5],i=l[2],c=l[3];break;case"L":t.push({key:"L",data:[...l]}),[s,r]=l;break;case"H":s=l[0],t.push({key:"L",data:[s,r]});break;case"V":r=l[0],t.push({key:"L",data:[s,r]});break;case"S":{let d=0,p=0;n==="C"||n==="S"?(d=s+(s-i),p=r+(r-c)):(d=s,p=r),t.push({key:"C",data:[d,p,...l]}),i=l[0],c=l[1],s=l[2],r=l[3];break}case"T":{const[d,p]=l;let f=0,h=0;n==="Q"||n==="T"?(f=s+(s-i),h=r+(r-c)):(f=s,h=r);const y=s+2*(f-s)/3,m=r+2*(h-r)/3,v=d+2*(f-d)/3,S=p+2*(h-p)/3;t.push({key:"C",data:[y,m,v,S,d,p]}),i=f,c=h,s=d,r=p;break}case"Q":{const[d,p,f,h]=l,y=s+2*(d-s)/3,m=r+2*(p-r)/3,v=f+2*(d-f)/3,S=h+2*(p-h)/3;t.push({key:"C",data:[y,m,v,S,f,h]}),i=d,c=p,s=f,r=h;break}case"A":{const d=Math.abs(l[0]),p=Math.abs(l[1]),f=l[2],h=l[3],y=l[4],m=l[5],v=l[6];d===0||p===0?(t.push({key:"C",data:[s,r,m,v,m,v]}),s=m,r=v):(s!==m||r!==v)&&(un(s,r,m,v,d,p,f,h,y).forEach(function(S){t.push({key:"C",data:S})}),s=m,r=v);break}case"Z":t.push({key:"Z",data:[]}),s=o,r=a}n=u}return t}function pe(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function un(e,t,n,s,r,o,a,i,c,u){const l=(d=a,Math.PI*d/180);var d;let p=[],f=0,h=0,y=0,m=0;if(u)[f,h,y,m]=u;else{[e,t]=pe(e,t,-l),[n,s]=pe(n,s,-l);const M=(e-n)/2,k=(t-s)/2;let E=M*M/(r*r)+k*k/(o*o);E>1&&(E=Math.sqrt(E),r*=E,o*=E);const O=r*r,P=o*o,T=O*P-O*k*k-P*M*M,C=O*k*k+P*M*M,$=(i===c?-1:1)*Math.sqrt(Math.abs(T/C));y=$*r*k/o+(e+n)/2,m=$*-o*M/r+(t+s)/2,f=Math.asin(parseFloat(((t-m)/o).toFixed(9))),h=Math.asin(parseFloat(((s-m)/o).toFixed(9))),e<y&&(f=Math.PI-f),n<y&&(h=Math.PI-h),f<0&&(f=2*Math.PI+f),h<0&&(h=2*Math.PI+h),c&&f>h&&(f-=2*Math.PI),!c&&h>f&&(h-=2*Math.PI)}let v=h-f;if(Math.abs(v)>120*Math.PI/180){const M=h,k=n,E=s;h=c&&h>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,p=un(n=y+r*Math.cos(h),s=m+o*Math.sin(h),k,E,r,o,a,0,c,[h,M,y,m])}v=h-f;const S=Math.cos(f),_=Math.sin(f),I=Math.cos(h),A=Math.sin(h),N=Math.tan(v/4),F=4/3*r*N,z=4/3*o*N,w=[e,t],g=[e+F*_,t-z*S],b=[n+F*A,s-z*I],x=[n,s];if(g[0]=2*w[0]-g[0],g[1]=2*w[1]-g[1],u)return[g,b,x].concat(p);{p=[g,b,x].concat(p);const M=[];for(let k=0;k<p.length;k+=3){const E=pe(p[k][0],p[k][1],l),O=pe(p[k+1][0],p[k+1][1],l),P=pe(p[k+2][0],p[k+2][1],l);M.push([E[0],E[1],O[0],O[1],P[0],P[1]])}return M}}const Fs={randOffset:function(e,t){return L(e,t)},randOffsetWithRange:function(e,t,n){return Fe(e,t,n)},ellipse:function(e,t,n,s,r){const o=fn(n,s,r);return ut(e,t,r,o).opset},doubleLineOps:function(e,t,n,s,r){return te(e,t,n,s,r,!0)}};function hn(e,t,n,s,r){return{type:"path",ops:te(e,t,n,s,r)}}function Ie(e,t,n){const s=(e||[]).length;if(s>2){const r=[];for(let o=0;o<s-1;o++)r.push(...te(e[o][0],e[o][1],e[o+1][0],e[o+1][1],n));return t&&r.push(...te(e[s-1][0],e[s-1][1],e[0][0],e[0][1],n)),{type:"path",ops:r}}return s===2?hn(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function qs(e,t,n,s,r){return function(o,a){return Ie(o,!0,a)}([[e,t],[e+n,t],[e+n,t+s],[e,t+s]],r)}function Bs(e,t){let n=Ct(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){const s=Ct(e,1.5*(1+.22*t.roughness),function(r){const o=Object.assign({},r);return o.randomizer=void 0,r.seed&&(o.seed=r.seed+1),o}(t));n=n.concat(s)}return{type:"path",ops:n}}function fn(e,t,n){const s=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),r=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*s)),o=2*Math.PI/r;let a=Math.abs(e/2),i=Math.abs(t/2);const c=1-n.curveFitting;return a+=L(a*c,n),i+=L(i*c,n),{increment:o,rx:a,ry:i}}function ut(e,t,n,s){const[r,o]=It(s.increment,e,t,s.rx,s.ry,1,s.increment*Fe(.1,Fe(.4,1,n),n),n);let a=qe(r,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[i]=It(s.increment,e,t,s.rx,s.ry,1.5,0,n),c=qe(i,null,n);a=a.concat(c)}return{estimatedPoints:o,opset:{type:"path",ops:a}}}function _t(e,t,n,s,r,o,a,i,c){const u=e,l=t;let d=Math.abs(n/2),p=Math.abs(s/2);d+=L(.01*d,c),p+=L(.01*p,c);let f=r,h=o;for(;f<0;)f+=2*Math.PI,h+=2*Math.PI;h-f>2*Math.PI&&(f=0,h=2*Math.PI);const y=2*Math.PI/c.curveStepCount,m=Math.min(y/2,(h-f)/2),v=Rt(m,u,l,d,p,f,h,1,c);if(!c.disableMultiStroke){const S=Rt(m,u,l,d,p,f,h,1.5,c);v.push(...S)}return a&&(i?v.push(...te(u,l,u+d*Math.cos(f),l+p*Math.sin(f),c),...te(u,l,u+d*Math.cos(h),l+p*Math.sin(h),c)):v.push({op:"lineTo",data:[u,l]},{op:"lineTo",data:[u+d*Math.cos(f),l+p*Math.sin(f)]})),{type:"path",ops:v}}function Oe(e,t){const n=[];for(const s of e)if(s.length){const r=t.maxRandomnessOffset||0,o=s.length;if(o>2){n.push({op:"move",data:[s[0][0]+L(r,t),s[0][1]+L(r,t)]});for(let a=1;a<o;a++)n.push({op:"lineTo",data:[s[a][0]+L(r,t),s[a][1]+L(r,t)]})}}return{type:"fillPath",ops:n}}function ue(e,t){return function(n,s){let r=n.fillStyle||"hachure";if(!G[r])switch(r){case"zigzag":G[r]||(G[r]=new Rs(s));break;case"cross-hatch":G[r]||(G[r]=new Ds(s));break;case"dots":G[r]||(G[r]=new Ns(s));break;case"dashed":G[r]||(G[r]=new js(s));break;case"zigzag-line":G[r]||(G[r]=new zs(s));break;case"hachure":default:r="hachure",G[r]||(G[r]=new wt(s))}return G[r]}(t,Fs).fillPolygons(e,t)}function dn(e){return e.randomizer||(e.randomizer=new Ws(e.seed||0)),e.randomizer.next()}function Fe(e,t,n,s=1){return n.roughness*s*(dn(n)*(t-e)+e)}function L(e,t,n=1){return Fe(-e,e,t,n)}function te(e,t,n,s,r,o=!1){const a=o?r.disableMultiStrokeFill:r.disableMultiStroke,i=Tt(e,t,n,s,r,!0,!1);if(a)return i;const c=Tt(e,t,n,s,r,!0,!0);return i.concat(c)}function Tt(e,t,n,s,r,o,a){const i=Math.pow(e-n,2)+Math.pow(t-s,2),c=Math.sqrt(i);let u=1;u=c<200?1:c>500?.4:-.0016668*c+1.233334;let l=r.maxRandomnessOffset||0;l*l*100>i&&(l=c/10);const d=l/2,p=.2+.2*dn(r);let f=r.bowing*r.maxRandomnessOffset*(s-t)/200,h=r.bowing*r.maxRandomnessOffset*(e-n)/200;f=L(f,r,u),h=L(h,r,u);const y=[],m=()=>L(d,r,u),v=()=>L(l,r,u),S=r.preserveVertices;return o&&(a?y.push({op:"move",data:[e+(S?0:m()),t+(S?0:m())]}):y.push({op:"move",data:[e+(S?0:L(l,r,u)),t+(S?0:L(l,r,u))]})),a?y.push({op:"bcurveTo",data:[f+e+(n-e)*p+m(),h+t+(s-t)*p+m(),f+e+2*(n-e)*p+m(),h+t+2*(s-t)*p+m(),n+(S?0:m()),s+(S?0:m())]}):y.push({op:"bcurveTo",data:[f+e+(n-e)*p+v(),h+t+(s-t)*p+v(),f+e+2*(n-e)*p+v(),h+t+2*(s-t)*p+v(),n+(S?0:v()),s+(S?0:v())]}),y}function Ct(e,t,n){const s=[];s.push([e[0][0]+L(t,n),e[0][1]+L(t,n)]),s.push([e[0][0]+L(t,n),e[0][1]+L(t,n)]);for(let r=1;r<e.length;r++)s.push([e[r][0]+L(t,n),e[r][1]+L(t,n)]),r===e.length-1&&s.push([e[r][0]+L(t,n),e[r][1]+L(t,n)]);return qe(s,null,n)}function qe(e,t,n){const s=e.length,r=[];if(s>3){const o=[],a=1-n.curveTightness;r.push({op:"move",data:[e[1][0],e[1][1]]});for(let i=1;i+2<s;i++){const c=e[i];o[0]=[c[0],c[1]],o[1]=[c[0]+(a*e[i+1][0]-a*e[i-1][0])/6,c[1]+(a*e[i+1][1]-a*e[i-1][1])/6],o[2]=[e[i+1][0]+(a*e[i][0]-a*e[i+2][0])/6,e[i+1][1]+(a*e[i][1]-a*e[i+2][1])/6],o[3]=[e[i+1][0],e[i+1][1]],r.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(t&&t.length===2){const i=n.maxRandomnessOffset;r.push({op:"lineTo",data:[t[0]+L(i,n),t[1]+L(i,n)]})}}else s===3?(r.push({op:"move",data:[e[1][0],e[1][1]]}),r.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):s===2&&r.push(...te(e[0][0],e[0][1],e[1][0],e[1][1],n));return r}function It(e,t,n,s,r,o,a,i){const c=[],u=[];if(i.roughness===0){e/=4,u.push([t+s*Math.cos(-e),n+r*Math.sin(-e)]);for(let l=0;l<=2*Math.PI;l+=e){const d=[t+s*Math.cos(l),n+r*Math.sin(l)];c.push(d),u.push(d)}u.push([t+s*Math.cos(0),n+r*Math.sin(0)]),u.push([t+s*Math.cos(e),n+r*Math.sin(e)])}else{const l=L(.5,i)-Math.PI/2;u.push([L(o,i)+t+.9*s*Math.cos(l-e),L(o,i)+n+.9*r*Math.sin(l-e)]);const d=2*Math.PI+l-.01;for(let p=l;p<d;p+=e){const f=[L(o,i)+t+s*Math.cos(p),L(o,i)+n+r*Math.sin(p)];c.push(f),u.push(f)}u.push([L(o,i)+t+s*Math.cos(l+2*Math.PI+.5*a),L(o,i)+n+r*Math.sin(l+2*Math.PI+.5*a)]),u.push([L(o,i)+t+.98*s*Math.cos(l+a),L(o,i)+n+.98*r*Math.sin(l+a)]),u.push([L(o,i)+t+.9*s*Math.cos(l+.5*a),L(o,i)+n+.9*r*Math.sin(l+.5*a)])}return[u,c]}function Rt(e,t,n,s,r,o,a,i,c){const u=o+L(.1,c),l=[];l.push([L(i,c)+t+.9*s*Math.cos(u-e),L(i,c)+n+.9*r*Math.sin(u-e)]);for(let d=u;d<=a;d+=e)l.push([L(i,c)+t+s*Math.cos(d),L(i,c)+n+r*Math.sin(d)]);return l.push([t+s*Math.cos(a),n+r*Math.sin(a)]),l.push([t+s*Math.cos(a),n+r*Math.sin(a)]),qe(l,null,c)}function Us(e,t,n,s,r,o,a,i){const c=[],u=[i.maxRandomnessOffset||1,(i.maxRandomnessOffset||1)+.3];let l=[0,0];const d=i.disableMultiStroke?1:2,p=i.preserveVertices;for(let f=0;f<d;f++)f===0?c.push({op:"move",data:[a[0],a[1]]}):c.push({op:"move",data:[a[0]+(p?0:L(u[0],i)),a[1]+(p?0:L(u[0],i))]}),l=p?[r,o]:[r+L(u[f],i),o+L(u[f],i)],c.push({op:"bcurveTo",data:[e+L(u[f],i),t+L(u[f],i),n+L(u[f],i),s+L(u[f],i),l[0],l[1]]});return c}function ge(e){return[...e]}function Re(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Gs(e,t,n){const s=Re(t,n);if(s===0)return Re(e,t);let r=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/s;return r=Math.max(0,Math.min(1,r)),Re(e,oe(t,n,r))}function oe(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function ht(e,t,n,s){const r=s||[];if(function(i,c){const u=i[c+0],l=i[c+1],d=i[c+2],p=i[c+3];let f=3*l[0]-2*u[0]-p[0];f*=f;let h=3*l[1]-2*u[1]-p[1];h*=h;let y=3*d[0]-2*p[0]-u[0];y*=y;let m=3*d[1]-2*p[1]-u[1];return m*=m,f<y&&(f=y),h<m&&(h=m),f+h}(e,t)<n){const i=e[t+0];r.length?(o=r[r.length-1],a=i,Math.sqrt(Re(o,a))>1&&r.push(i)):r.push(i),r.push(e[t+3])}else{const c=e[t+0],u=e[t+1],l=e[t+2],d=e[t+3],p=oe(c,u,.5),f=oe(u,l,.5),h=oe(l,d,.5),y=oe(p,f,.5),m=oe(f,h,.5),v=oe(y,m,.5);ht([c,p,y,v],0,n,r),ht([v,m,h,d],0,n,r)}var o,a;return r}function Hs(e,t){return Be(e,0,e.length,t)}function Be(e,t,n,s,r){const o=r||[],a=e[t],i=e[n-1];let c=0,u=1;for(let l=t+1;l<n-1;++l){const d=Gs(e[l],a,i);d>c&&(c=d,u=l)}return Math.sqrt(c)>s?(Be(e,t,u+1,s,o),Be(e,u,n,s,o)):(o.length||o.push(a),o.push(i)),o}function Dt(e,t=.15,n){const s=[],r=(e.length-1)/3;for(let o=0;o<r;o++)ht(e,3*o,t,s);return n&&n>0?Be(s,0,s.length,n):s}const H="none";class Ue{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,s){return{shape:t,sets:n||[],options:s||this.defaultOptions}}line(t,n,s,r,o){const a=this._o(o);return this._d("line",[hn(t,n,s,r,a)],a)}rectangle(t,n,s,r,o){const a=this._o(o),i=[],c=qs(t,n,s,r,a);if(a.fill){const u=[[t,n],[t+s,n],[t+s,n+r],[t,n+r]];a.fillStyle==="solid"?i.push(Oe([u],a)):i.push(ue([u],a))}return a.stroke!==H&&i.push(c),this._d("rectangle",i,a)}ellipse(t,n,s,r,o){const a=this._o(o),i=[],c=fn(s,r,a),u=ut(t,n,a,c);if(a.fill)if(a.fillStyle==="solid"){const l=ut(t,n,a,c).opset;l.type="fillPath",i.push(l)}else i.push(ue([u.estimatedPoints],a));return a.stroke!==H&&i.push(u.opset),this._d("ellipse",i,a)}circle(t,n,s,r){const o=this.ellipse(t,n,s,s,r);return o.shape="circle",o}linearPath(t,n){const s=this._o(n);return this._d("linearPath",[Ie(t,!1,s)],s)}arc(t,n,s,r,o,a,i=!1,c){const u=this._o(c),l=[],d=_t(t,n,s,r,o,a,i,!0,u);if(i&&u.fill)if(u.fillStyle==="solid"){const p=Object.assign({},u);p.disableMultiStroke=!0;const f=_t(t,n,s,r,o,a,!0,!1,p);f.type="fillPath",l.push(f)}else l.push(function(p,f,h,y,m,v,S){const _=p,I=f;let A=Math.abs(h/2),N=Math.abs(y/2);A+=L(.01*A,S),N+=L(.01*N,S);let F=m,z=v;for(;F<0;)F+=2*Math.PI,z+=2*Math.PI;z-F>2*Math.PI&&(F=0,z=2*Math.PI);const w=(z-F)/S.curveStepCount,g=[];for(let b=F;b<=z;b+=w)g.push([_+A*Math.cos(b),I+N*Math.sin(b)]);return g.push([_+A*Math.cos(z),I+N*Math.sin(z)]),g.push([_,I]),ue([g],S)}(t,n,s,r,o,a,u));return u.stroke!==H&&l.push(d),this._d("arc",l,u)}curve(t,n){const s=this._o(n),r=[],o=Bs(t,s);if(s.fill&&s.fill!==H&&t.length>=3){const a=Dt(function(i,c=0){const u=i.length;if(u<3)throw new Error("A curve must have at least three points.");const l=[];if(u===3)l.push(ge(i[0]),ge(i[1]),ge(i[2]),ge(i[2]));else{const d=[];d.push(i[0],i[0]);for(let h=1;h<i.length;h++)d.push(i[h]),h===i.length-1&&d.push(i[h]);const p=[],f=1-c;l.push(ge(d[0]));for(let h=1;h+2<d.length;h++){const y=d[h];p[0]=[y[0],y[1]],p[1]=[y[0]+(f*d[h+1][0]-f*d[h-1][0])/6,y[1]+(f*d[h+1][1]-f*d[h-1][1])/6],p[2]=[d[h+1][0]+(f*d[h][0]-f*d[h+2][0])/6,d[h+1][1]+(f*d[h][1]-f*d[h+2][1])/6],p[3]=[d[h+1][0],d[h+1][1]],l.push(p[1],p[2],p[3])}}return l}(t),10,(1+s.roughness)/2);s.fillStyle==="solid"?r.push(Oe([a],s)):r.push(ue([a],s))}return s.stroke!==H&&r.push(o),this._d("curve",r,s)}polygon(t,n){const s=this._o(n),r=[],o=Ie(t,!0,s);return s.fill&&(s.fillStyle==="solid"?r.push(Oe([t],s)):r.push(ue([t],s))),s.stroke!==H&&r.push(o),this._d("polygon",r,s)}path(t,n){const s=this._o(n),r=[];if(!t)return this._d("path",r,s);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=s.fill&&s.fill!=="transparent"&&s.fill!==H,a=s.stroke!==H,i=!!(s.simplification&&s.simplification<1),c=function(u,l,d){const p=Ot(Et(ct(u))),f=[];let h=[],y=[0,0],m=[];const v=()=>{m.length>=4&&h.push(...Dt(m,l)),m=[]},S=()=>{v(),h.length&&(f.push(h),h=[])};for(const{key:I,data:A}of p)switch(I){case"M":S(),y=[A[0],A[1]],h.push(y);break;case"L":v(),h.push([A[0],A[1]]);break;case"C":if(!m.length){const N=h.length?h[h.length-1]:y;m.push([N[0],N[1]])}m.push([A[0],A[1]]),m.push([A[2],A[3]]),m.push([A[4],A[5]]);break;case"Z":v(),h.push([y[0],y[1]])}if(S(),!d)return f;const _=[];for(const I of f){const A=Hs(I,d);A.length&&_.push(A)}return _}(t,1,i?4-4*s.simplification:(1+s.roughness)/2);return o&&(s.fillStyle==="solid"?r.push(Oe(c,s)):r.push(ue(c,s))),a&&(i?c.forEach(u=>{r.push(Ie(u,!1,s))}):r.push(function(u,l){const d=Ot(Et(ct(u))),p=[];let f=[0,0],h=[0,0];for(const{key:y,data:m}of d)switch(y){case"M":{const v=1*(l.maxRandomnessOffset||0),S=l.preserveVertices;p.push({op:"move",data:m.map(_=>_+(S?0:L(v,l)))}),h=[m[0],m[1]],f=[m[0],m[1]];break}case"L":p.push(...te(h[0],h[1],m[0],m[1],l)),h=[m[0],m[1]];break;case"C":{const[v,S,_,I,A,N]=m;p.push(...Us(v,S,_,I,A,N,h,l)),h=[A,N];break}case"Z":p.push(...te(h[0],h[1],f[0],f[1],l)),h=[f[0],f[1]]}return{type:"path",ops:p}}(t,s))),this._d("path",r,s)}opsToPath(t,n){let s="";for(const r of t.ops){const o=typeof n=="number"&&n>=0?r.data.map(a=>+a.toFixed(n)):r.data;switch(r.op){case"move":s+=`M${o[0]} ${o[1]} `;break;case"bcurveTo":s+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":s+=`L${o[0]} ${o[1]} `}}return s.trim()}toPaths(t){const n=t.sets||[],s=t.options||this.defaultOptions,r=[];for(const o of n){let a=null;switch(o.type){case"path":a={d:this.opsToPath(o),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:H};break;case"fillPath":a={d:this.opsToPath(o),stroke:H,strokeWidth:0,fill:s.fill||H};break;case"fillSketch":a=this.fillSketch(o,s)}a&&r.push(a)}return r}fillSketch(t,n){let s=n.fillWeight;return s<0&&(s=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||H,strokeWidth:s,fill:H}}}let Ks=class{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Ue(n)}draw(t){const n=t.sets||[],s=t.options||this.getDefaultOptions(),r=this.ctx,o=t.options.fixedDecimalPlaceDigits;for(const a of n)switch(a.type){case"path":r.save(),r.strokeStyle=s.stroke==="none"?"transparent":s.stroke,r.lineWidth=s.strokeWidth,s.strokeLineDash&&r.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(r.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(r,a,o),r.restore();break;case"fillPath":{r.save(),r.fillStyle=s.fill||"";const i=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(r,a,o,i),r.restore();break}case"fillSketch":this.fillSketch(r,a,s)}}fillSketch(t,n,s){let r=s.fillWeight;r<0&&(r=s.strokeWidth/2),t.save(),s.fillLineDash&&t.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(t.lineDashOffset=s.fillLineDashOffset),t.strokeStyle=s.fill||"",t.lineWidth=r,this._drawToContext(t,n,s.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,s,r="nonzero"){t.beginPath();for(const o of n.ops){const a=typeof s=="number"&&s>=0?o.data.map(i=>+i.toFixed(s)):o.data;switch(o.op){case"move":t.moveTo(a[0],a[1]);break;case"bcurveTo":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":t.lineTo(a[0],a[1])}}n.type==="fillPath"?t.fill(r):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,s,r,o){const a=this.gen.line(t,n,s,r,o);return this.draw(a),a}rectangle(t,n,s,r,o){const a=this.gen.rectangle(t,n,s,r,o);return this.draw(a),a}ellipse(t,n,s,r,o){const a=this.gen.ellipse(t,n,s,r,o);return this.draw(a),a}circle(t,n,s,r){const o=this.gen.circle(t,n,s,r);return this.draw(o),o}linearPath(t,n){const s=this.gen.linearPath(t,n);return this.draw(s),s}polygon(t,n){const s=this.gen.polygon(t,n);return this.draw(s),s}arc(t,n,s,r,o,a,i=!1,c){const u=this.gen.arc(t,n,s,r,o,a,i,c);return this.draw(u),u}curve(t,n){const s=this.gen.curve(t,n);return this.draw(s),s}path(t,n){const s=this.gen.path(t,n);return this.draw(s),s}};const _e="http://www.w3.org/2000/svg";let Vs=class{constructor(t,n){this.svg=t,this.gen=new Ue(n)}draw(t){const n=t.sets||[],s=t.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,o=r.createElementNS(_e,"g"),a=t.options.fixedDecimalPlaceDigits;for(const i of n){let c=null;switch(i.type){case"path":c=r.createElementNS(_e,"path"),c.setAttribute("d",this.opsToPath(i,a)),c.setAttribute("stroke",s.stroke),c.setAttribute("stroke-width",s.strokeWidth+""),c.setAttribute("fill","none"),s.strokeLineDash&&c.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&c.setAttribute("stroke-dashoffset",`${s.strokeLineDashOffset}`);break;case"fillPath":c=r.createElementNS(_e,"path"),c.setAttribute("d",this.opsToPath(i,a)),c.setAttribute("stroke","none"),c.setAttribute("stroke-width","0"),c.setAttribute("fill",s.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||c.setAttribute("fill-rule","evenodd");break;case"fillSketch":c=this.fillSketch(r,i,s)}c&&o.appendChild(c)}return o}fillSketch(t,n,s){let r=s.fillWeight;r<0&&(r=s.strokeWidth/2);const o=t.createElementNS(_e,"path");return o.setAttribute("d",this.opsToPath(n,s.fixedDecimalPlaceDigits)),o.setAttribute("stroke",s.fill||""),o.setAttribute("stroke-width",r+""),o.setAttribute("fill","none"),s.fillLineDash&&o.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&o.setAttribute("stroke-dashoffset",`${s.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,s,r,o){const a=this.gen.line(t,n,s,r,o);return this.draw(a)}rectangle(t,n,s,r,o){const a=this.gen.rectangle(t,n,s,r,o);return this.draw(a)}ellipse(t,n,s,r,o){const a=this.gen.ellipse(t,n,s,r,o);return this.draw(a)}circle(t,n,s,r){const o=this.gen.circle(t,n,s,r);return this.draw(o)}linearPath(t,n){const s=this.gen.linearPath(t,n);return this.draw(s)}polygon(t,n){const s=this.gen.polygon(t,n);return this.draw(s)}arc(t,n,s,r,o,a,i=!1,c){const u=this.gen.arc(t,n,s,r,o,a,i,c);return this.draw(u)}curve(t,n){const s=this.gen.curve(t,n);return this.draw(s)}path(t,n){const s=this.gen.path(t,n);return this.draw(s)}};var Nt={canvas:(e,t)=>new Ks(e,t),svg:(e,t)=>new Vs(e,t),generator:e=>new Ue(e),newSeed:()=>Ue.newSeed()};const Xs="/Itervisus/assets/empty-cursor-e882b6a6.svg",Ys="/Itervisus/assets/filled-cursor-bff18f2b.svg",Zs="/Itervisus/assets/empty-line-85aa8411.svg",Qs="/Itervisus/assets/filled-line-09ab568c.svg",Js="/Itervisus/assets/empty-square-894f0684.svg",er="/Itervisus/assets/filled-square-bf564fc3.svg",tr="/Itervisus/assets/empty-pencil-a9d73307.svg",nr="/Itervisus/assets/filled-pencil-5ed0f8fa.svg",sr="/Itervisus/assets/undo-0a930840.svg",rr="/Itervisus/assets/redo-d3b1e486.svg",or="/Itervisus/assets/trash-can-8327aa02.svg",ir=e=>{const[t,n]=U(0),[s,r]=U([e]);return{elements:()=>s()[t()],setElements:(u,l=!1)=>{const d=typeof u=="function"?u(s()[t()]):u;if(l){const f=[...s()];f[t()]=d,r(f);return}const p=s().slice(0,t()+1);r([...p,d]),n(f=>f+1)},undo:()=>{t()>0&&n(u=>u-1)},redo:()=>{t()<s().length-1&&n(u=>u+1)}}};function jt(e,t,n,s=r=>r){return e*s(.5-t*(.5-n))}function ar(e){return[-e[0],-e[1]]}function Y(e,t){return[e[0]+t[0],e[1]+t[1]]}function K(e,t){return[e[0]-t[0],e[1]-t[1]]}function X(e,t){return[e[0]*t,e[1]*t]}function lr(e,t){return[e[0]/t,e[1]/t]}function ye(e){return[e[1],-e[0]]}function zt(e,t){return e[0]*t[0]+e[1]*t[1]}function cr(e,t){return e[0]===t[0]&&e[1]===t[1]}function ur(e){return Math.hypot(e[0],e[1])}function hr(e){return e[0]*e[0]+e[1]*e[1]}function Wt(e,t){return hr(K(e,t))}function pn(e){return lr(e,ur(e))}function fr(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function me(e,t,n){let s=Math.sin(n),r=Math.cos(n),o=e[0]-t[0],a=e[1]-t[1],i=o*r-a*s,c=o*s+a*r;return[i+t[0],c+t[1]]}function ft(e,t,n){return Y(e,X(K(t,e),n))}function Ft(e,t,n){return Y(e,X(t,n))}var{min:he,PI:dr}=Math,qt=.275,be=dr+1e-4;function pr(e,t={}){let{size:n=16,smoothing:s=.5,thinning:r=.5,simulatePressure:o=!0,easing:a=P=>P,start:i={},end:c={},last:u=!1}=t,{cap:l=!0,easing:d=P=>P*(2-P)}=i,{cap:p=!0,easing:f=P=>--P*P*P+1}=c;if(e.length===0||n<=0)return[];let h=e[e.length-1].runningLength,y=i.taper===!1?0:i.taper===!0?Math.max(n,h):i.taper,m=c.taper===!1?0:c.taper===!0?Math.max(n,h):c.taper,v=Math.pow(n*s,2),S=[],_=[],I=e.slice(0,10).reduce((P,T)=>{let C=T.pressure;if(o){let $=he(1,T.distance/n),le=he(1,1-$);C=he(1,P+(le-P)*($*qt))}return(P+C)/2},e[0].pressure),A=jt(n,r,e[e.length-1].pressure,a),N,F=e[0].vector,z=e[0].point,w=z,g=z,b=w,x=!1;for(let P=0;P<e.length;P++){let{pressure:T}=e[P],{point:C,vector:$,distance:le,runningLength:ne}=e[P];if(P<e.length-1&&h-ne<3)continue;if(r){if(o){let se=he(1,le/n),Ze=he(1,1-se);T=he(1,I+(Ze-I)*(se*qt))}A=jt(n,r,T,a)}else A=n/2;N===void 0&&(N=A);let $e=ne<y?d(ne/y):1,Se=h-ne<m?f((h-ne)/m):1;A=Math.max(.01,A*Math.min($e,Se));let xt=(P<e.length-1?e[P+1]:e[P]).vector,Ye=P<e.length-1?zt($,xt):1,gn=zt($,F)<0&&!x,kt=Ye!==null&&Ye<0;if(gn||kt){let se=X(ye(F),A);for(let Ze=1/13,Ae=0;Ae<=1;Ae+=Ze)g=me(K(C,se),C,be*Ae),S.push(g),b=me(Y(C,se),C,be*-Ae),_.push(b);z=g,w=b,kt&&(x=!0);continue}if(x=!1,P===e.length-1){let se=X(ye($),A);S.push(K(C,se)),_.push(Y(C,se));continue}let vt=X(ye(ft(xt,$,Ye)),A);g=K(C,vt),(P<=1||Wt(z,g)>v)&&(S.push(g),z=g),b=Y(C,vt),(P<=1||Wt(w,b)>v)&&(_.push(b),w=b),I=T,F=$}let M=e[0].point.slice(0,2),k=e.length>1?e[e.length-1].point.slice(0,2):Y(e[0].point,[1,1]),E=[],O=[];if(e.length===1){if(!(y||m)||u){let P=Ft(M,pn(ye(K(M,k))),-(N||A)),T=[];for(let C=1/13,$=C;$<=1;$+=C)T.push(me(P,M,be*2*$));return T}}else{if(!(y||m&&e.length===1))if(l)for(let T=1/13,C=T;C<=1;C+=T){let $=me(_[0],M,be*C);E.push($)}else{let T=K(S[0],_[0]),C=X(T,.5),$=X(T,.51);E.push(K(M,C),K(M,$),Y(M,$),Y(M,C))}let P=ye(ar(e[e.length-1].vector));if(m||y&&e.length===1)O.push(k);else if(p){let T=Ft(k,P,A);for(let C=1/29,$=C;$<1;$+=C)O.push(me(T,k,be*3*$))}else O.push(Y(k,X(P,A)),Y(k,X(P,A*.99)),K(k,X(P,A*.99)),K(k,X(P,A)))}return S.concat(O,_.reverse(),E)}function gr(e,t={}){var n;let{streamline:s=.5,size:r=16,last:o=!1}=t;if(e.length===0)return[];let a=.15+(1-s)*.85,i=Array.isArray(e[0])?e:e.map(({x:f,y:h,pressure:y=.5})=>[f,h,y]);if(i.length===2){let f=i[1];i=i.slice(0,-1);for(let h=1;h<5;h++)i.push(ft(i[0],f,h/4))}i.length===1&&(i=[...i,[...Y(i[0],[1,1]),...i[0].slice(2)]]);let c=[{point:[i[0][0],i[0][1]],pressure:i[0][2]>=0?i[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,l=0,d=c[0],p=i.length-1;for(let f=1;f<i.length;f++){let h=o&&f===p?i[f].slice(0,2):ft(d.point,i[f],a);if(cr(d.point,h))continue;let y=fr(h,d.point);if(l+=y,f<p&&!u){if(l<r)continue;u=!0}d={point:h,pressure:i[f][2]>=0?i[f][2]:.5,vector:pn(K(d.point,h)),distance:y,runningLength:l},c.push(d)}return c[0].vector=((n=c[1])==null?void 0:n.vector)||[0,0],c}function yr(e,t={}){return pr(gr(e,t),t)}var mr=yr;const Te=(e,t)=>(e+t)/2,br=(e,t=!0)=>{const n=e.length;if(n<4)return"";let s=e[0],r=e[1];const o=e[2];let a=`M${s[0].toFixed(2)},${s[1].toFixed(2)} Q${r[0].toFixed(2)},${r[1].toFixed(2)} ${Te(r[0],o[0]).toFixed(2)},${Te(r[1],o[1]).toFixed(2)} T`;for(let i=2,c=n-1;i<c;i++)s=e[i],r=e[i+1],a+=`${Te(s[0],r[0]).toFixed(2)},${Te(s[1],r[1]).toFixed(2)} `;return t&&(a+="Z"),a},Bt=V('<img alt="Cursor">'),Ut=V('<img alt="Pencil">'),Gt=V('<img alt="Line">'),Ht=V('<img alt="Square">'),wr=V('<div id="option-selection"><button></button><button></button><button></button><button></button><button id="undo"><img alt="Undo"></button><button id="redo"><img alt="Redo"></button><button id="trash"><img alt="Square">'),xr=V('<canvas id="canvas">'),kr=()=>{const{elements:e,setElements:t,undo:n,redo:s}=ir([]),[r,o]=U(null),[a,i]=U("default"),[c,u]=U("pencil");document.addEventListener("keydown",w=>{(w.metaKey||w.ctrlKey)&&w.key=="z"&&(w.shiftKey?s():n())}),Xt(()=>{const w=document.querySelector("#canvas"),g=w.getContext("2d"),b=Nt.canvas(w);g.clearRect(0,0,w.width,w.height),e().forEach(x=>l(x,b,g))});const l=(w,g,b)=>{switch(w.type){case"line":case"rectangle":{g.draw(w.drawable);break}case"pencil":{const x=mr(w.points,{size:3}),M=br(x);b.fill(new Path2D(M));break}}},d=(w,g,b,x)=>{const M=Nt.generator();switch(x){case"line":case"rectangle":{const k=x==="line"?M.line(g.x,g.y,b.x,b.y):M.rectangle(g.x,g.y,b.x-g.x,b.y-g.y);return{id:w,drawable:k,start:g,end:b,type:x}}case"pencil":return{id:w,type:x,points:[g]};default:throw new Error("Invalid element type")}},p=(w,g,b,x)=>{const M=[...e()];switch(x){case"line":case"rectangle":{M[w]=d(w,g,b,x);break}case"pencil":{const k=M[w];k.points=[...M[w].points,b];break}}t(M,!0)},f=w=>e().map(g=>({...g,mousePosition:h(w,g)})).find(g=>g.mousePosition!==null),h=(w,g)=>{switch(g.type){case"line":{const b=y(g.start,g.end,w)?"inside":null,x=m(w,g.start)?"start":null,M=m(w,g.end)?"end":null;return x||M||b}case"rectangle":{const{x:b,y:x}=g.start,{x:M,y:k}=g.end,E=m(w,{x:b,y:x})?"topLeft":null,O=m(w,{x:M,y:x})?"topRight":null,P=m(w,{x:b,y:k})?"bottomLeft":null,T=m(w,{x:M,y:k})?"bottomRight":null,C=w.x>=b&&w.x<=M&&w.y>=x&&w.y<=k?"inside":null;return E||O||P||T||C}case"pencil":return g.points.some((x,M)=>{const k=g.points[M+1];return k?y(x,k,w,5):!1})?"inside":null;default:return null}},y=(w,g,b,x=3)=>{const M=v(w,g)-v(w,b)-v(g,b);return Math.abs(M)<x},m=(w,g)=>Math.abs(w.x-g.x)<5&&Math.abs(w.y-g.y)<5,v=(w,g)=>Math.sqrt(Math.pow(w.x-g.x,2)+Math.pow(w.y-g.y,2)),S=w=>{switch(w){case"inside":return"move";case"topLeft":case"bottomRight":case"start":case"end":return"nwse-resize";case"topRight":case"bottomLeft":return"nesw-resize";default:return"default"}},_=w=>{const{start:g,end:b,type:x}=w;switch(x){case"line":return g.x<b.x||g.x==b.x&&g.y<b.y?{start:g,end:b}:{start:b,end:g};case"rectangle":{const M=Math.min(g.x,b.x),k=Math.max(g.x,b.x),E=Math.min(g.y,b.y),O=Math.max(g.y,b.y);return{start:{x:M,y:E},end:{x:k,y:O}}}default:return{start:g,end:b}}},I=(w,g,b,x)=>{const{x:M,y:k}=w,{x:E,y:O}=g,{x:P,y:T}=b;switch(x){case"topLeft":case"start":return{start:w,end:b};case"topRight":return{start:{x:E,y:k},end:{x:M,y:T}};case"bottomLeft":return{start:{x:M,y:O},end:{x:P,y:k}};case"bottomRight":case"end":return{start:g,end:w}}},A=w=>{const{offsetX:g,offsetY:b}=w,x={x:g,y:b};switch(c()){case"selection":{const k=f(x);if(!k)return;if(k.type==="pencil"){const E=k.points.map(P=>g-P.x),O=k.points.map(P=>b-P.y);o({...k,xOffsets:E,yOffsets:O})}else{const E=g-k.start.x,O=b-k.start.y;o({...k,offset:{x:E,y:O}})}t(E=>E),k.mousePosition=="inside"?i("moving"):i("resizing");break}case"line":case"rectangle":case"pencil":const M=d(e().length,x,x,c());t(k=>[...k,M]),o(M),i("drawing");break}},N=w=>{const{offsetX:g,offsetY:b}=w;if(c()=="selection"&&w.target instanceof HTMLCanvasElement){const x=f({x:g,y:b});w.target.style.cursor=x?.mousePosition?S(x.mousePosition):"default"}switch(a()){case"drawing":{const x=e().length-1,{start:M}=e()[x];p(x,M,{x:g,y:b},c());break}case"moving":{const x=r();if(!x)return;if(x.type==="pencil"){const M=x.points.map((E,O)=>({x:g-x.xOffsets[O],y:b-x.yOffsets[O]})),k=[...e()];k[x.id].points=M,t(k)}else{const{id:M,start:k,end:E,type:O,offset:P}=x,T=E.x-k.x,C=E.y-k.y;if(!P)return;const $={x:g-P.x,y:b-P.y};p(M,{x:$.x,y:$.y},{x:$.x+T,y:$.y+C},O)}break}case"resizing":{const{id:x,type:M,mousePosition:k,start:E,end:O}=r(),{start:P,end:T}=I({x:g,y:b},E,O,k);p(x,P,T,M);break}}},F=w=>{const g=r();if(!g)return;const b=g.id,{id:x,type:M}=e()[b];if((a()=="drawing"||a()=="resizing")&&z(M)){const{start:k,end:E}=_(e()[b]);p(x,k,E,M)}i("default"),o(null),w.target instanceof HTMLCanvasElement&&(w.target.style.cursor="default")},z=w=>{switch(w){case"line":case"rectangle":return!0;default:return!1}};return[(()=>{const w=wr(),g=w.firstChild,b=g.nextSibling,x=b.nextSibling,M=x.nextSibling,k=M.nextSibling,E=k.firstChild,O=k.nextSibling,P=O.firstChild,T=O.nextSibling,C=T.firstChild;return g.$$click=()=>u("selection"),Z(g,j(fe,{get when(){return c()=="selection"},get fallback(){return(()=>{const $=Bt();return q($,"src",Xs),$})()},get children(){const $=Bt();return q($,"src",Ys),$}})),b.$$click=()=>u("pencil"),Z(b,j(fe,{get when(){return c()=="pencil"},get fallback(){return(()=>{const $=Ut();return q($,"src",tr),$})()},get children(){const $=Ut();return q($,"src",nr),$}})),x.$$click=()=>u("line"),Z(x,j(fe,{get when(){return c()=="line"},get fallback(){return(()=>{const $=Gt();return q($,"src",Zs),$})()},get children(){const $=Gt();return q($,"src",Qs),$}})),M.$$click=()=>u("rectangle"),Z(M,j(fe,{get when(){return c()=="rectangle"},get fallback(){return(()=>{const $=Ht();return q($,"src",Js),$})()},get children(){const $=Ht();return q($,"src",er),$}})),it(k,"click",n,!0),q(E,"src",sr),it(O,"click",s,!0),q(P,"src",rr),T.$$click=()=>t([]),q(C,"src",or),Q($=>{const le=` ${c()=="selection"?"active":""}`,ne=`${c()=="pencil"?"active":""}`,$e=`${c()=="line"?"active":""}`,Se=`${c()=="rectangle"?"active":""}`;return le!==$._v$&&we(g,$._v$=le),ne!==$._v$2&&we(b,$._v$2=ne),$e!==$._v$3&&we(x,$._v$3=$e),Se!==$._v$4&&we(M,$._v$4=Se),$},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),w})(),(()=>{const w=xr();return w.$$mouseup=F,w.$$mousemove=N,w.$$mousedown=A,Q(g=>{const b=window.innerWidth,x=window.innerHeight;return b!==g._v$5&&q(w,"width",g._v$5=b),x!==g._v$6&&q(w,"height",g._v$6=x),g},{_v$5:void 0,_v$6:void 0}),w})()]};mt(["click","mousedown","mousemove","mouseup"]);const vr=()=>[j(Is,{links:[{name:"Home",path:"Itervisus/"},{name:"Workspace",path:"Itervisus/workspace"}]}),j(vs,{get children(){return[j(Lt,{path:"/Itervisus/",component:Es}),j(Lt,{path:"/Itervisus/workspace",component:kr})]}})],Mr=document.getElementById("root");Fn(()=>j(ks,{get children(){return j(vr,{})}}),Mr);
