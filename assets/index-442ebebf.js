(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const Sn=(t,e)=>t===e,Bt=Symbol("solid-proxy"),_n=Symbol("solid-track"),Ut={equals:Sn};let on=hn;const mt=1,Gt=2,an={owned:null,cleanups:null,context:null,owner:null};var B=null;let re=null,F=null,tt=null,dt=null,Qt=0;function Et(t,e){const n=F,s=B,r=t.length===0,o=r?an:{owned:null,cleanups:null,context:null,owner:e===void 0?s:e},a=r?t:()=>t(()=>ct(()=>Jt(o)));B=o,F=null;try{return xt(a,!0)}finally{F=n,B=s}}function J(t,e){e=e?Object.assign({},Ut,e):Ut;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),fn(n,r));return[un.bind(n),s]}function lt(t,e,n){const s=ke(t,e,!1,mt);Ct(s)}function we(t,e,n){on=Cn;const s=ke(t,e,!1,mt);(!n||!n.render)&&(s.user=!0),dt?dt.push(s):Ct(s)}function V(t,e,n){n=n?Object.assign({},Ut,n):Ut;const s=ke(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,Ct(s),un.bind(s)}function ct(t){if(F===null)return t();const e=F;F=null;try{return t()}finally{F=e}}function ln(t,e,n){const s=Array.isArray(t);let r,o=n&&n.defer;return a=>{let i;if(s){i=Array(t.length);for(let u=0;u<t.length;u++)i[u]=t[u]()}else i=t();if(o){o=!1;return}const c=ct(()=>e(i,r,a));return r=i,c}}function Pt(t){return B===null||(B.cleanups===null?B.cleanups=[t]:B.cleanups.push(t)),t}function An(){return B}function Ln(t,e){const n=B,s=F;B=t,F=null;try{return xt(e,!0)}catch(r){Me(r)}finally{B=n,F=s}}function On(t){const e=F,n=B;return Promise.resolve().then(()=>{F=e,B=n;let s;return xt(t,!1),F=B=null,s?s.done:void 0})}function cn(t,e){const n=Symbol("context");return{id:n,Provider:Rn(n),defaultValue:t}}function xe(t){let e;return(e=pn(B,t.id))!==void 0?e:t.defaultValue}function ve(t){const e=V(t),n=V(()=>ce(e()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function un(){if(this.sources&&this.state)if(this.state===mt)Ct(this);else{const t=tt;tt=null,xt(()=>Kt(this),!1),tt=t}if(F){const t=this.observers?this.observers.length:0;F.sources?(F.sources.push(this),F.sourceSlots.push(t)):(F.sources=[this],F.sourceSlots=[t]),this.observers?(this.observers.push(F),this.observerSlots.push(F.sources.length-1)):(this.observers=[F],this.observerSlots=[F.sources.length-1])}return this.value}function fn(t,e,n){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&xt(()=>{for(let r=0;r<t.observers.length;r+=1){const o=t.observers[r],a=re&&re.running;a&&re.disposed.has(o),(a?!o.tState:!o.state)&&(o.pure?tt.push(o):dt.push(o),o.observers&&dn(o)),a||(o.state=mt)}if(tt.length>1e6)throw tt=[],new Error},!1)),e}function Ct(t){if(!t.fn)return;Jt(t);const e=B,n=F,s=Qt;F=B=t,En(t,t.value,s),F=n,B=e}function En(t,e,n){let s;try{s=t.fn(e)}catch(r){return t.pure&&(t.state=mt,t.owned&&t.owned.forEach(Jt),t.owned=null),t.updatedAt=n+1,Me(r)}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?fn(t,s):t.value=s,t.updatedAt=n)}function ke(t,e,n,s=mt,r){const o={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:B,context:null,pure:n};return B===null||B!==an&&(B.owned?B.owned.push(o):B.owned=[o]),o}function Ht(t){if(t.state===0)return;if(t.state===Gt)return Kt(t);if(t.suspense&&ct(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Qt);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===mt)Ct(t);else if(t.state===Gt){const s=tt;tt=null,xt(()=>Kt(t,e[0]),!1),tt=s}}function xt(t,e){if(tt)return t();let n=!1;e||(tt=[]),dt?n=!0:dt=[],Qt++;try{const s=t();return Tn(n),s}catch(s){n||(dt=null),tt=null,Me(s)}}function Tn(t){if(tt&&(hn(tt),tt=null),t)return;const e=dt;dt=null,e.length&&xt(()=>on(e),!1)}function hn(t){for(let e=0;e<t.length;e++)Ht(t[e])}function Cn(t){let e,n=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[n++]=s:Ht(s)}for(e=0;e<n;e++)Ht(t[e])}function Kt(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const s=t.sources[n];if(s.sources){const r=s.state;r===mt?s!==e&&(!s.updatedAt||s.updatedAt<Qt)&&Ht(s):r===Gt&&Kt(s,e)}}}function dn(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Gt,n.pure?tt.push(n):dt.push(n),n.observers&&dn(n))}}function Jt(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),s=t.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),a=n.observerSlots.pop();s<r.length&&(o.sourceSlots[a]=s,r[s]=o,n.observerSlots[s]=a)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Jt(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0,t.context=null}function In(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Me(t,e=B){throw In(t)}function pn(t,e){return t?t.context&&t.context[e]!==void 0?t.context[e]:pn(t.owner,e):void 0}function ce(t){if(typeof t=="function"&&!t.length)return ce(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const s=ce(t[n]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return t}function Rn(t,e){return function(s){let r;return lt(()=>r=ct(()=>(B.context={[t]:s.value},ve(()=>s.children))),void 0),r}}const Dn=Symbol("fallback");function Re(t){for(let e=0;e<t.length;e++)t[e]()}function Nn(t,e,n={}){let s=[],r=[],o=[],a=0,i=e.length>1?[]:null;return Pt(()=>Re(o)),()=>{let c=t()||[],u,l;return c[_n],ct(()=>{let p=c.length,h,f,g,y,v,M,E,I,P;if(p===0)a!==0&&(Re(o),o=[],s=[],r=[],a=0,i&&(i=[])),n.fallback&&(s=[Dn],r[0]=Et(D=>(o[0]=D,n.fallback())),a=1);else if(a===0){for(r=new Array(p),l=0;l<p;l++)s[l]=c[l],r[l]=Et(d);a=p}else{for(g=new Array(p),y=new Array(p),i&&(v=new Array(p)),M=0,E=Math.min(a,p);M<E&&s[M]===c[M];M++);for(E=a-1,I=p-1;E>=M&&I>=M&&s[E]===c[I];E--,I--)g[I]=r[E],y[I]=o[E],i&&(v[I]=i[E]);for(h=new Map,f=new Array(I+1),l=I;l>=M;l--)P=c[l],u=h.get(P),f[l]=u===void 0?-1:u,h.set(P,l);for(u=M;u<=E;u++)P=s[u],l=h.get(P),l!==void 0&&l!==-1?(g[l]=r[u],y[l]=o[u],i&&(v[l]=i[u]),l=f[l],h.set(P,l)):o[u]();for(l=M;l<p;l++)l in g?(r[l]=g[l],o[l]=y[l],i&&(i[l]=v[l],i[l](l))):r[l]=Et(d);r=r.slice(0,a=p),s=c.slice(0)}return r});function d(p){if(o[l]=p,i){const[h,f]=J(l);return i[l]=f,e(c[l],h)}return e(c[l])}}}function q(t,e){return ct(()=>t(e||{}))}function Rt(){return!0}const ue={get(t,e,n){return e===Bt?n:t.get(e)},has(t,e){return e===Bt?!0:t.has(e)},set:Rt,deleteProperty:Rt,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Rt,deleteProperty:Rt}},ownKeys(t){return t.keys()}};function oe(t){return(t=typeof t=="function"?t():t)?t:{}}function jn(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function fe(...t){let e=!1;for(let o=0;o<t.length;o++){const a=t[o];e=e||!!a&&Bt in a,t[o]=typeof a=="function"?(e=!0,V(a)):a}if(e)return new Proxy({get(o){for(let a=t.length-1;a>=0;a--){const i=oe(t[a])[o];if(i!==void 0)return i}},has(o){for(let a=t.length-1;a>=0;a--)if(o in oe(t[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<t.length;a++)o.push(...Object.keys(oe(t[a])));return[...new Set(o)]}},ue);const n={},s={},r=new Set;for(let o=t.length-1;o>=0;o--){const a=t[o];if(!a)continue;const i=Object.getOwnPropertyNames(a);for(let c=0,u=i.length;c<u;c++){const l=i[c];if(l==="__proto__"||l==="constructor")continue;const d=Object.getOwnPropertyDescriptor(a,l);if(!r.has(l))d.get?(r.add(l),Object.defineProperty(n,l,{enumerable:!0,configurable:!0,get:jn.bind(s[l]=[d.get.bind(a)])})):(d.value!==void 0&&r.add(l),n[l]=d.value);else{const p=s[l];p?d.get?p.push(d.get.bind(a)):d.value!==void 0&&p.push(()=>d.value):n[l]===void 0&&(n[l]=d.value)}}}return n}function zn(t,...e){if(Bt in t){const r=new Set(e.length>1?e.flat():e[0]),o=e.map(a=>new Proxy({get(i){return a.includes(i)?t[i]:void 0},has(i){return a.includes(i)&&i in t},keys(){return a.filter(i=>i in t)}},ue));return o.push(new Proxy({get(a){return r.has(a)?void 0:t[a]},has(a){return r.has(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!r.has(a))}},ue)),o}const n={},s=e.map(()=>({}));for(const r of Object.getOwnPropertyNames(t)){const o=Object.getOwnPropertyDescriptor(t,r),a=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let i=!1,c=0;for(const u of e)u.includes(r)&&(i=!0,a?s[c][r]=o.value:Object.defineProperty(s[c],r,o)),++c;i||(a?n[r]=o.value:Object.defineProperty(n,r,o))}return[...s,n]}const Wn=t=>`Stale read from <${t}>.`;function Fn(t){const e="fallback"in t&&{fallback:()=>t.fallback};return V(Nn(()=>t.each,t.children,e||void 0))}function yt(t){const e=t.keyed,n=V(()=>t.when,void 0,{equals:(s,r)=>e?s===r:!s==!r});return V(()=>{const s=n();if(s){const r=t.children;return typeof r=="function"&&r.length>0?ct(()=>r(e?s:()=>{if(!ct(n))throw Wn("Show");return t.when})):r}return t.fallback},void 0,void 0)}const qn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Bn=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...qn]),Un=new Set(["innerHTML","textContent","innerText","children"]),Gn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Hn=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Kn(t,e){const n=Hn[t];return typeof n=="object"?n[e]?n.$:void 0:n}const Xn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Yn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Vn(t,e,n){let s=n.length,r=e.length,o=s,a=0,i=0,c=e[r-1].nextSibling,u=null;for(;a<r||i<o;){if(e[a]===n[i]){a++,i++;continue}for(;e[r-1]===n[o-1];)r--,o--;if(r===a){const l=o<s?i?n[i-1].nextSibling:n[o-i]:c;for(;i<o;)t.insertBefore(n[i++],l)}else if(o===i)for(;a<r;)(!u||!u.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[o-1]&&n[i]===e[r-1]){const l=e[--r].nextSibling;t.insertBefore(n[i++],e[a++].nextSibling),t.insertBefore(n[--o],l),e[r]=n[o]}else{if(!u){u=new Map;let d=i;for(;d<o;)u.set(n[d],d++)}const l=u.get(e[a]);if(l!=null)if(i<l&&l<o){let d=a,p=1,h;for(;++d<r&&d<o&&!((h=u.get(e[d]))==null||h!==l+p);)p++;if(p>l-i){const f=e[a];for(;i<l;)t.insertBefore(n[i++],f)}else t.replaceChild(n[i++],e[a++])}else a++;else e[a++].remove()}}}const De="_$DX_DELEGATE";function Zn(t,e,n,s={}){let r;return Et(o=>{r=o,e===document?t():nt(e,t(),e.firstChild?null:void 0,n)},s.owner),()=>{r(),e.textContent=""}}function et(t,e,n){let s;const r=()=>{const a=document.createElement("template");return a.innerHTML=t,n?a.content.firstChild.firstChild:a.content.firstChild},o=e?()=>ct(()=>document.importNode(s||(s=r()),!0)):()=>(s||(s=r())).cloneNode(!0);return o.cloneNode=o,o}function te(t,e=window.document){const n=e[De]||(e[De]=new Set);for(let s=0,r=t.length;s<r;s++){const o=t[s];n.has(o)||(n.add(o),e.addEventListener(o,os))}}function K(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Qn(t,e,n,s){s==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,s)}function gt(t,e){e==null?t.removeAttribute("class"):t.className=e}function he(t,e,n,s){if(s)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const r=n[0];t.addEventListener(e,n[0]=o=>r.call(t,n[1],o))}else t.addEventListener(e,n)}function Jn(t,e,n={}){const s=Object.keys(e||{}),r=Object.keys(n);let o,a;for(o=0,a=r.length;o<a;o++){const i=r[o];!i||i==="undefined"||e[i]||(Ne(t,i,!1),delete n[i])}for(o=0,a=s.length;o<a;o++){const i=s[o],c=!!e[i];!i||i==="undefined"||n[i]===c||!c||(Ne(t,i,!0),n[i]=c)}return n}function ts(t,e,n){if(!e)return n?K(t,"style"):e;const s=t.style;if(typeof e=="string")return s.cssText=e;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),e||(e={});let r,o;for(o in n)e[o]==null&&s.removeProperty(o),delete n[o];for(o in e)r=e[o],r!==n[o]&&(s.setProperty(o,r),n[o]=r);return n}function es(t,e={},n,s){const r={};return s||lt(()=>r.children=$t(t,e.children,r.children)),lt(()=>e.ref&&e.ref(t)),lt(()=>ss(t,e,n,!0,r,!0)),r}function ns(t,e,n){return ct(()=>t(e,n))}function nt(t,e,n,s){if(n!==void 0&&!s&&(s=[]),typeof e!="function")return $t(t,e,s,n);lt(r=>$t(t,e(),r,n),s)}function ss(t,e,n,s,r={},o=!1){e||(e={});for(const a in r)if(!(a in e)){if(a==="children")continue;r[a]=je(t,a,null,r[a],n,o)}for(const a in e){if(a==="children"){s||$t(t,e.children);continue}const i=e[a];r[a]=je(t,a,i,r[a],n,o)}}function rs(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Ne(t,e,n){const s=e.trim().split(/\s+/);for(let r=0,o=s.length;r<o;r++)t.classList.toggle(s[r],n)}function je(t,e,n,s,r,o){let a,i,c,u,l;if(e==="style")return ts(t,n,s);if(e==="classList")return Jn(t,n,s);if(n===s)return s;if(e==="ref")o||n(t);else if(e.slice(0,3)==="on:"){const d=e.slice(3);s&&t.removeEventListener(d,s),n&&t.addEventListener(d,n)}else if(e.slice(0,10)==="oncapture:"){const d=e.slice(10);s&&t.removeEventListener(d,s,!0),n&&t.addEventListener(d,n,!0)}else if(e.slice(0,2)==="on"){const d=e.slice(2).toLowerCase(),p=Xn.has(d);if(!p&&s){const h=Array.isArray(s)?s[0]:s;t.removeEventListener(d,h)}(p||n)&&(he(t,d,n,p),p&&te([d]))}else if(e.slice(0,5)==="attr:")K(t,e.slice(5),n);else if((l=e.slice(0,5)==="prop:")||(c=Un.has(e))||!r&&((u=Kn(e,t.tagName))||(i=Bn.has(e)))||(a=t.nodeName.includes("-")))l&&(e=e.slice(5),i=!0),e==="class"||e==="className"?gt(t,n):a&&!i&&!c?t[rs(e)]=n:t[u||e]=n;else{const d=r&&e.indexOf(":")>-1&&Yn[e.split(":")[0]];d?Qn(t,d,e,n):K(t,Gn[e]||e,n)}return n}function os(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}});n;){const s=n[e];if(s&&!n.disabled){const r=n[`${e}Data`];if(r!==void 0?s.call(n,r,t):s.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function $t(t,e,n,s,r){for(;typeof n=="function";)n=n();if(e===n)return n;const o=typeof e,a=s!==void 0;if(t=a&&n[0]&&n[0].parentNode||t,o==="string"||o==="number")if(o==="number"&&(e=e.toString()),a){let i=n[0];i&&i.nodeType===3?i.data=e:i=document.createTextNode(e),n=vt(t,n,s,i)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e;else if(e==null||o==="boolean")n=vt(t,n,s);else{if(o==="function")return lt(()=>{let i=e();for(;typeof i=="function";)i=i();n=$t(t,i,n,s)}),()=>n;if(Array.isArray(e)){const i=[],c=n&&Array.isArray(n);if(de(i,e,n,r))return lt(()=>n=$t(t,i,n,s,!0)),()=>n;if(i.length===0){if(n=vt(t,n,s),a)return n}else c?n.length===0?ze(t,i,s):Vn(t,n,i):(n&&vt(t),ze(t,i));n=i}else if(e.nodeType){if(Array.isArray(n)){if(a)return n=vt(t,n,s,e);vt(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}else console.warn("Unrecognized value. Skipped inserting",e)}return n}function de(t,e,n,s){let r=!1;for(let o=0,a=e.length;o<a;o++){let i=e[o],c=n&&n[o],u;if(!(i==null||i===!0||i===!1))if((u=typeof i)=="object"&&i.nodeType)t.push(i);else if(Array.isArray(i))r=de(t,i,c)||r;else if(u==="function")if(s){for(;typeof i=="function";)i=i();r=de(t,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||r}else t.push(i),r=!0;else{const l=String(i);c&&c.nodeType===3&&c.data===l?t.push(c):t.push(document.createTextNode(l))}}return r}function ze(t,e,n=null){for(let s=0,r=e.length;s<r;s++)t.insertBefore(e[s],n)}function vt(t,e,n,s){if(n===void 0)return t.textContent="";const r=s||document.createTextNode("");if(e.length){let o=!1;for(let a=e.length-1;a>=0;a--){const i=e[a];if(r!==i){const c=i.parentNode===t;!o&&!a?c?t.replaceChild(r,i):t.insertBefore(r,n):c&&i.remove()}else o=!0}}else t.insertBefore(r,n);return[r]}const is=!1;function as(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function ls([t,e],n,s){return[n?()=>n(t()):t,s?r=>e(s(r)):e]}function cs(t){try{return document.querySelector(t)}catch{return null}}function us(t,e){const n=cs(`#${t}`);n?n.scrollIntoView():e&&window.scrollTo(0,0)}function fs(t,e,n,s){let r=!1;const o=i=>typeof i=="string"?{value:i}:i,a=ls(J(o(t()),{equals:(i,c)=>i.value===c.value}),void 0,i=>(!r&&e(i),i));return n&&Pt(n((i=t())=>{r=!0,a[1](o(i)),r=!1})),{signal:a,utils:s}}function hs(t){if(t){if(Array.isArray(t))return{signal:t}}else return{signal:J({value:""})};return t}function ds(){return fs(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:t,replace:e,scroll:n,state:s})=>{e?window.history.replaceState(s,"",t):window.history.pushState(s,"",t),us(window.location.hash.slice(1),n)},t=>as(window,"popstate",()=>t()),{go:t=>window.history.go(t)})}function ps(){let t=new Set;function e(r){return t.add(r),()=>t.delete(r)}let n=!1;function s(r,o){if(n)return!(n=!1);const a={to:r,options:o,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const i of t)i.listener({...a,from:i.location,retry:c=>{c&&(n=!0),i.navigate(r,o)}});return!a.defaultPrevented}return{subscribe:e,confirm:s}}const gs=/^(?:[a-z0-9]+:)?\/\//i,ys=/^\/+|(\/)\/+$/g;function wt(t,e=!1){const n=t.replace(ys,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function Wt(t,e,n){if(gs.test(e))return;const s=wt(t),r=n&&wt(n);let o="";return!r||e.startsWith("/")?o=s:r.toLowerCase().indexOf(s.toLowerCase())!==0?o=s+r:o=r,(o||"/")+wt(e,!o)}function ms(t,e){if(t==null)throw new Error(e);return t}function gn(t,e){return wt(t).replace(/\/*(\*.*)?$/g,"")+wt(e)}function bs(t){const e={};return t.searchParams.forEach((n,s)=>{e[s]=n}),e}function ws(t,e,n){const[s,r]=t.split("/*",2),o=s.split("/").filter(Boolean),a=o.length;return i=>{const c=i.split("/").filter(Boolean),u=c.length-a;if(u<0||u>0&&r===void 0&&!e)return null;const l={path:a?"":"/",params:{}},d=p=>n===void 0?void 0:n[p];for(let p=0;p<a;p++){const h=o[p],f=c[p],g=h[0]===":",y=g?h.slice(1):h;if(g&&ie(f,d(y)))l.params[y]=f;else if(g||!ie(f,h))return null;l.path+=`/${f}`}if(r){const p=u?c.slice(-u).join("/"):"";if(ie(p,d(r)))l.params[r]=p;else return null}return l}}function ie(t,e){const n=s=>s.localeCompare(t,void 0,{sensitivity:"base"})===0;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function xs(t){const[e,n]=t.pattern.split("/*",2),s=e.split("/").filter(Boolean);return s.reduce((r,o)=>r+(o.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function yn(t){const e=new Map,n=An();return new Proxy({},{get(s,r){return e.has(r)||Ln(n,()=>e.set(r,V(()=>t()[r]))),e.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function mn(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),s=t.slice(e.index+e[0].length);const r=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(s);)r.push(n+=e[1]),s=s.slice(e[0].length);return mn(s).reduce((o,a)=>[...o,...r.map(i=>i+a)],[])}const vs=100,bn=cn(),ee=cn(),ne=()=>ms(xe(bn),"Make sure your app is wrapped in a <Router />");let Tt;const $e=()=>Tt||xe(ee)||ne().base,ks=t=>{const e=$e();return V(()=>e.resolvePath(t()))},Ms=t=>{const e=ne();return V(()=>{const n=t();return n!==void 0?e.renderPath(n):n})},$s=()=>ne().location;function Ps(t,e="",n){const{component:s,data:r,children:o}=t,a=!o||Array.isArray(o)&&!o.length,i={key:t,element:s?()=>q(s,{}):()=>{const{element:c}=t;return c===void 0&&n?q(n,{}):c},preload:t.component?s.preload:t.preload,data:r};return wn(t.path).reduce((c,u)=>{for(const l of mn(u)){const d=gn(e,l),p=a?d:d.split("/*",1)[0];c.push({...i,originalPath:l,pattern:p,matcher:ws(p,!a,t.matchFilters)})}return c},[])}function Ss(t,e=0){return{routes:t,score:xs(t[t.length-1])*1e4-e,matcher(n){const s=[];for(let r=t.length-1;r>=0;r--){const o=t[r],a=o.matcher(n);if(!a)return null;s.unshift({...a,route:o})}return s}}}function wn(t){return Array.isArray(t)?t:[t]}function xn(t,e="",n,s=[],r=[]){const o=wn(t);for(let a=0,i=o.length;a<i;a++){const c=o[a];if(c&&typeof c=="object"&&c.hasOwnProperty("path")){const u=Ps(c,e,n);for(const l of u){s.push(l);const d=Array.isArray(c.children)&&c.children.length===0;if(c.children&&!d)xn(c.children,l.pattern,n,s,r);else{const p=Ss([...s],r.length);r.push(p)}s.pop()}}}return s.length?r:r.sort((a,i)=>i.score-a.score)}function _s(t,e){for(let n=0,s=t.length;n<s;n++){const r=t[n].matcher(e);if(r)return r}return[]}function As(t,e){const n=new URL("http://sar"),s=V(c=>{const u=t();try{return new URL(u,n)}catch{return console.error(`Invalid path ${u}`),c}},n,{equals:(c,u)=>c.href===u.href}),r=V(()=>s().pathname),o=V(()=>s().search,!0),a=V(()=>s().hash),i=V(()=>"");return{get pathname(){return r()},get search(){return o()},get hash(){return a()},get state(){return e()},get key(){return i()},query:yn(ln(o,()=>bs(s())))}}function Ls(t,e="",n,s){const{signal:[r,o],utils:a={}}=hs(t),i=a.parsePath||(_=>_),c=a.renderPath||(_=>_),u=a.beforeLeave||ps(),l=Wt("",e),d=void 0;if(l===void 0)throw new Error(`${l} is not a valid base path`);l&&!r().value&&o({value:l,replace:!0,scroll:!1});const[p,h]=J(!1),f=async _=>{h(!0);try{await On(_)}finally{h(!1)}},[g,y]=J(r().value),[v,M]=J(r().state),E=As(g,v),I=[],P={pattern:l,params:{},path:()=>l,outlet:()=>null,resolvePath(_){return Wt(l,_)}};if(n)try{Tt=P,P.data=n({data:void 0,params:{},location:E,navigate:Z(P)})}finally{Tt=void 0}function D(_,O,U){ct(()=>{if(typeof O=="number"){O&&(a.go?u.confirm(O,U)&&a.go(O):console.warn("Router integration does not support relative routing"));return}const{replace:N,resolve:T,scroll:z,state:Q}={replace:!1,resolve:!0,scroll:!0,...U},A=T?_.resolvePath(O):Wt("",O);if(A===void 0)throw new Error(`Path '${O}' is not a routable path`);if(I.length>=vs)throw new Error("Too many redirects");const j=g();if((A!==j||Q!==v())&&!is){if(u.confirm(A,U)){const R=I.push({value:j,replace:N,scroll:z,state:v()});f(()=>{y(A),M(Q)}).then(()=>{I.length===R&&X({value:A,state:Q})})}}})}function Z(_){return _=_||xe(ee)||P,(O,U)=>D(_,O,U)}function X(_){const O=I[0];O&&((_.value!==O.value||_.state!==O.state)&&o({..._,replace:O.replace,scroll:O.scroll}),I.length=0)}lt(()=>{const{value:_,state:O}=r();ct(()=>{_!==g()&&f(()=>{y(_),M(O)})})});{let _=function(O){if(O.defaultPrevented||O.button!==0||O.metaKey||O.altKey||O.ctrlKey||O.shiftKey)return;const U=O.composedPath().find(j=>j instanceof Node&&j.nodeName.toUpperCase()==="A");if(!U||!U.hasAttribute("link"))return;const N=U.href;if(U.target||!N&&!U.hasAttribute("state"))return;const T=(U.getAttribute("rel")||"").split(/\s+/);if(U.hasAttribute("download")||T&&T.includes("external"))return;const z=new URL(N);if(z.origin!==window.location.origin||l&&z.pathname&&!z.pathname.toLowerCase().startsWith(l.toLowerCase()))return;const Q=i(z.pathname+z.search+z.hash),A=U.getAttribute("state");O.preventDefault(),D(P,Q,{resolve:!1,replace:U.hasAttribute("replace"),scroll:!U.hasAttribute("noscroll"),state:A&&JSON.parse(A)})};var rt=_;te(["click"]),document.addEventListener("click",_),Pt(()=>document.removeEventListener("click",_))}return{base:P,out:d,location:E,isRouting:p,renderPath:c,parsePath:i,navigatorFactory:Z,beforeLeave:u}}function Os(t,e,n,s,r){const{base:o,location:a,navigatorFactory:i}=t,{pattern:c,element:u,preload:l,data:d}=s().route,p=V(()=>s().path);l&&l();const h={parent:e,pattern:c,get child(){return n()},path:p,params:r,data:e.data,outlet:u,resolvePath(f){return Wt(o.path(),f,p())}};if(d)try{Tt=h,h.data=d({data:e.data,params:r,location:a,navigate:i(h)})}finally{Tt=void 0}return h}const Es=et("<a link>"),Ts=t=>{const{source:e,url:n,base:s,data:r,out:o}=t,a=e||ds(),i=Ls(a,s,r);return q(bn.Provider,{value:i,get children(){return t.children}})},Cs=t=>{const e=ne(),n=$e(),s=ve(()=>t.children),r=V(()=>xn(s(),gn(n.pattern,t.base||""),Is)),o=V(()=>_s(r(),e.location.pathname)),a=yn(()=>{const l=o(),d={};for(let p=0;p<l.length;p++)Object.assign(d,l[p].params);return d});e.out&&e.out.matches.push(o().map(({route:l,path:d,params:p})=>({originalPath:l.originalPath,pattern:l.pattern,path:d,params:p})));const i=[];let c;const u=V(ln(o,(l,d,p)=>{let h=d&&l.length===d.length;const f=[];for(let g=0,y=l.length;g<y;g++){const v=d&&d[g],M=l[g];p&&v&&M.route.key===v.route.key?f[g]=p[g]:(h=!1,i[g]&&i[g](),Et(E=>{i[g]=E,f[g]=Os(e,f[g-1]||n,()=>u()[g+1],()=>o()[g],a)}))}return i.splice(l.length).forEach(g=>g()),p&&h?p:(c=f[0],f)}));return q(yt,{get when(){return u()&&c},keyed:!0,children:l=>q(ee.Provider,{value:l,get children(){return l.outlet()}})})},We=t=>{const e=ve(()=>t.children);return fe(t,{get children(){return e()}})},Is=()=>{const t=$e();return q(yt,{get when(){return t.child},keyed:!0,children:e=>q(ee.Provider,{value:e,get children(){return e.outlet()}})})};function pe(t){t=fe({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=zn(t,["href","state","class","activeClass","inactiveClass","end"]),n=ks(()=>t.href),s=Ms(n),r=$s(),o=V(()=>{const a=n();if(a===void 0)return!1;const i=wt(a.split(/[?#]/,1)[0]).toLowerCase(),c=wt(r.pathname).toLowerCase();return t.end?i===c:c.startsWith(i)});return(()=>{const a=Es();return es(a,fe(e,{get href(){return s()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!o(),[t.activeClass]:o(),...e.classList}},get"aria-current"(){return o()?"page":void 0}}),!1,!1),a})()}const Rs=t=>q(pe,{class:"button",get href(){return t.path??""},get onClick(){return t.onClick},get children(){return t.text}});const Ds=t=>{const[e,n]=J(0),[s,r]=J("typing"),[o,a]=J(""),i=100,c=2e3,u=70,l=700;return we(()=>{let d;switch(s()){case"typing":{const p=t[e()].slice(0,o().length+1);if(p===o()){r("pausing");break}d=setTimeout(()=>{a(p)},i);break}case"pausing":{d=setTimeout(()=>{r("deleting")},c);break}case"deleting":{const p=o().slice(0,-1);o()||(d=setTimeout(()=>{const h=e()+1;n(t[h]?h:0),r("typing")},l)),d=setTimeout(()=>{a(p)},u);break}}Pt(()=>clearTimeout(d))}),{currentTypingText:o,currentText:t[e()]}},Ns=et('<span class="typewriter-cursor">'),js=t=>{const{currentTypingText:e,currentText:n}=Ds(t.textsToType);return(()=>{const s=Ns();return K(s,"aria-label",n),nt(s,e),s})()},zs=et('<div id="welcome-section"><p id="keywords"><span>Simple.</span><span>Interactive.</span><span>Customizable.</span></p><p id="description">Explore <span id="name">Itervisus</span>, your platform to create whiteboards. Use <span id="name">Itervisus</span> to </p><em id="work-in-progress">This project is still a work in progress. Therefore, many features are not yet available or not fully functional.'),Ws=()=>{const t=["brainstorm ideas","draw diagrams"];return(()=>{const e=zs(),n=e.firstChild,s=n.nextSibling;return s.firstChild.nextSibling.nextSibling.nextSibling.nextSibling,s.nextSibling,nt(s,q(js,{textsToType:t}),null),nt(e,q(Rs,{text:"Create a new whiteboard",path:"workspace"}),null),e})()};const Fs=()=>{const[t,e]=J(!1);Pt(()=>{window.removeEventListener("scroll",n)});const n=()=>{e(window.scrollY>0)};return window.addEventListener("scroll",n),t},qs=et('<div class="navigation-bar"><nav><ul id="navigation-links">'),Bs=et('<div class="navigation-bar filler">'),Us=et("<li>"),Gs=t=>{const e=Fs();return[(()=>{const n=qs(),s=n.firstChild,r=s.firstChild;return nt(n,q(pe,{id:"navigation-name",href:"/Itervisus/",children:"Itervisus"}),s),nt(r,q(Fn,{get each(){return t.links},children:o=>(()=>{const a=Us();return nt(a,q(pe,{class:"navigation-text",get href(){return o.path},get children(){return o.name}})),a})()})),lt(()=>n.classList.toggle("sticky",!!e())),n})(),Bs()]};function ae(t,e,n){if(t&&t.length){const[s,r]=e,o=Math.PI/180*n,a=Math.cos(o),i=Math.sin(o);t.forEach(c=>{const[u,l]=c;c[0]=(u-s)*a-(l-r)*i+s,c[1]=(u-s)*i+(l-r)*a+r})}}function se(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}function It(t,e){const n=e.hachureAngle+90;let s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.max(s,.1);const r=[0,0];if(n)for(const a of t)ae(a,r,n);const o=function(a,i){const c=[];for(const h of a){const f=[...h];f[0].join(",")!==f[f.length-1].join(",")&&f.push([f[0][0],f[0][1]]),f.length>2&&c.push(f)}const u=[];i=Math.max(i,.1);const l=[];for(const h of c)for(let f=0;f<h.length-1;f++){const g=h[f],y=h[f+1];if(g[1]!==y[1]){const v=Math.min(g[1],y[1]);l.push({ymin:v,ymax:Math.max(g[1],y[1]),x:v===g[1]?g[0]:y[0],islope:(y[0]-g[0])/(y[1]-g[1])})}}if(l.sort((h,f)=>h.ymin<f.ymin?-1:h.ymin>f.ymin?1:h.x<f.x?-1:h.x>f.x?1:h.ymax===f.ymax?0:(h.ymax-f.ymax)/Math.abs(h.ymax-f.ymax)),!l.length)return u;let d=[],p=l[0].ymin;for(;d.length||l.length;){if(l.length){let h=-1;for(let f=0;f<l.length&&!(l[f].ymin>p);f++)h=f;l.splice(0,h+1).forEach(f=>{d.push({s:p,edge:f})})}if(d=d.filter(h=>!(h.edge.ymax<=p)),d.sort((h,f)=>h.edge.x===f.edge.x?0:(h.edge.x-f.edge.x)/Math.abs(h.edge.x-f.edge.x)),d.length>1)for(let h=0;h<d.length;h+=2){const f=h+1;if(f>=d.length)break;const g=d[h].edge,y=d[f].edge;u.push([[Math.round(g.x),p],[Math.round(y.x),p]])}p+=i,d.forEach(h=>{h.edge.x=h.edge.x+i*h.edge.islope})}return u}(t,s);if(n){for(const a of t)ae(a,r,-n);(function(a,i,c){const u=[];a.forEach(l=>u.push(...l)),ae(u,i,c)})(o,r,-n)}return o}class Pe{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const s=It(e,n);return{type:"fillSketch",ops:this.renderLines(s,n)}}renderLines(e,n){const s=[];for(const r of e)s.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],n));return s}}let Hs=class extends Pe{fillPolygons(e,n){let s=n.hachureGap;s<0&&(s=4*n.strokeWidth),s=Math.max(s,.1);const r=It(e,Object.assign({},n,{hachureGap:s})),o=Math.PI/180*n.hachureAngle,a=[],i=.5*s*Math.cos(o),c=.5*s*Math.sin(o);for(const[u,l]of r)se([u,l])&&a.push([[u[0]-i,u[1]+c],[...l]],[[u[0]+i,u[1]-c],[...l]]);return{type:"fillSketch",ops:this.renderLines(a,n)}}};class Ks extends Pe{fillPolygons(e,n){const s=this._fillPolygons(e,n),r=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),o=this._fillPolygons(e,r);return s.ops=s.ops.concat(o.ops),s}}class Xs{constructor(e){this.helper=e}fillPolygons(e,n){const s=It(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(s,n)}dotsOnLines(e,n){const s=[];let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);let o=n.fillWeight;o<0&&(o=n.strokeWidth/2);const a=r/4;for(const i of e){const c=se(i),u=c/r,l=Math.ceil(u)-1,d=c-l*r,p=(i[0][0]+i[1][0])/2-r/4,h=Math.min(i[0][1],i[1][1]);for(let f=0;f<l;f++){const g=h+d+f*r,y=p-a+2*Math.random()*a,v=g-a+2*Math.random()*a,M=this.helper.ellipse(y,v,o,o,n);s.push(...M.ops)}}return{type:"fillSketch",ops:s}}}class Ys{constructor(e){this.helper=e}fillPolygons(e,n){const s=It(e,n);return{type:"fillSketch",ops:this.dashedLine(s,n)}}dashedLine(e,n){const s=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,r=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,o=[];return e.forEach(a=>{const i=se(a),c=Math.floor(i/(s+r)),u=(i+r-c*(s+r))/2;let l=a[0],d=a[1];l[0]>d[0]&&(l=a[1],d=a[0]);const p=Math.atan((d[1]-l[1])/(d[0]-l[0]));for(let h=0;h<c;h++){const f=h*(s+r),g=f+s,y=[l[0]+f*Math.cos(p)+u*Math.cos(p),l[1]+f*Math.sin(p)+u*Math.sin(p)],v=[l[0]+g*Math.cos(p)+u*Math.cos(p),l[1]+g*Math.sin(p)+u*Math.sin(p)];o.push(...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],n))}}),o}}class Vs{constructor(e){this.helper=e}fillPolygons(e,n){const s=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,r=n.zigzagOffset<0?s:n.zigzagOffset,o=It(e,n=Object.assign({},n,{hachureGap:s+r}));return{type:"fillSketch",ops:this.zigzagLines(o,r,n)}}zigzagLines(e,n,s){const r=[];return e.forEach(o=>{const a=se(o),i=Math.round(a/(2*n));let c=o[0],u=o[1];c[0]>u[0]&&(c=o[1],u=o[0]);const l=Math.atan((u[1]-c[1])/(u[0]-c[0]));for(let d=0;d<i;d++){const p=2*d*n,h=2*(d+1)*n,f=Math.sqrt(2*Math.pow(n,2)),g=[c[0]+p*Math.cos(l),c[1]+p*Math.sin(l)],y=[c[0]+h*Math.cos(l),c[1]+h*Math.sin(l)],v=[g[0]+f*Math.cos(l+Math.PI/4),g[1]+f*Math.sin(l+Math.PI/4)];r.push(...this.helper.doubleLineOps(g[0],g[1],v[0],v[1],s),...this.helper.doubleLineOps(v[0],v[1],y[0],y[1],s))}}),r}}const st={};let Zs=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const Dt={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function le(t,e){return t.type===e}function ge(t){const e=[],n=function(a){const i=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))i[i.length]={type:0,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];i[i.length]={type:1,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return i[i.length]={type:2,text:""},i}(t);let s="BOD",r=0,o=n[r];for(;!le(o,2);){let a=0;const i=[];if(s==="BOD"){if(o.text!=="M"&&o.text!=="m")return ge("M0,0"+t);r++,a=Dt[o.text],s=o.text}else le(o,1)?a=Dt[s]:(r++,a=Dt[o.text],s=o.text);if(!(r+a<n.length))throw new Error("Path data ended short");for(let c=r;c<r+a;c++){const u=n[c];if(!le(u,1))throw new Error("Param not a number: "+s+","+u.text);i[i.length]=+u.text}if(typeof Dt[s]!="number")throw new Error("Bad segment: "+s);{const c={key:s,data:i};e.push(c),r+=a,o=n[r],s==="M"&&(s="L"),s==="m"&&(s="l")}}return e}function Fe(t){let e=0,n=0,s=0,r=0;const o=[];for(const{key:a,data:i}of t)switch(a){case"M":o.push({key:"M",data:[...i]}),[e,n]=i,[s,r]=i;break;case"m":e+=i[0],n+=i[1],o.push({key:"M",data:[e,n]}),s=e,r=n;break;case"L":o.push({key:"L",data:[...i]}),[e,n]=i;break;case"l":e+=i[0],n+=i[1],o.push({key:"L",data:[e,n]});break;case"C":o.push({key:"C",data:[...i]}),e=i[4],n=i[5];break;case"c":{const c=i.map((u,l)=>l%2?u+n:u+e);o.push({key:"C",data:c}),e=c[4],n=c[5];break}case"Q":o.push({key:"Q",data:[...i]}),e=i[2],n=i[3];break;case"q":{const c=i.map((u,l)=>l%2?u+n:u+e);o.push({key:"Q",data:c}),e=c[2],n=c[3];break}case"A":o.push({key:"A",data:[...i]}),e=i[5],n=i[6];break;case"a":e+=i[5],n+=i[6],o.push({key:"A",data:[i[0],i[1],i[2],i[3],i[4],e,n]});break;case"H":o.push({key:"H",data:[...i]}),e=i[0];break;case"h":e+=i[0],o.push({key:"H",data:[e]});break;case"V":o.push({key:"V",data:[...i]}),n=i[0];break;case"v":n+=i[0],o.push({key:"V",data:[n]});break;case"S":o.push({key:"S",data:[...i]}),e=i[2],n=i[3];break;case"s":{const c=i.map((u,l)=>l%2?u+n:u+e);o.push({key:"S",data:c}),e=c[2],n=c[3];break}case"T":o.push({key:"T",data:[...i]}),e=i[0],n=i[1];break;case"t":e+=i[0],n+=i[1],o.push({key:"T",data:[e,n]});break;case"Z":case"z":o.push({key:"Z",data:[]}),e=s,n=r}return o}function qe(t){const e=[];let n="",s=0,r=0,o=0,a=0,i=0,c=0;for(const{key:u,data:l}of t){switch(u){case"M":e.push({key:"M",data:[...l]}),[s,r]=l,[o,a]=l;break;case"C":e.push({key:"C",data:[...l]}),s=l[4],r=l[5],i=l[2],c=l[3];break;case"L":e.push({key:"L",data:[...l]}),[s,r]=l;break;case"H":s=l[0],e.push({key:"L",data:[s,r]});break;case"V":r=l[0],e.push({key:"L",data:[s,r]});break;case"S":{let d=0,p=0;n==="C"||n==="S"?(d=s+(s-i),p=r+(r-c)):(d=s,p=r),e.push({key:"C",data:[d,p,...l]}),i=l[0],c=l[1],s=l[2],r=l[3];break}case"T":{const[d,p]=l;let h=0,f=0;n==="Q"||n==="T"?(h=s+(s-i),f=r+(r-c)):(h=s,f=r);const g=s+2*(h-s)/3,y=r+2*(f-r)/3,v=d+2*(h-d)/3,M=p+2*(f-p)/3;e.push({key:"C",data:[g,y,v,M,d,p]}),i=h,c=f,s=d,r=p;break}case"Q":{const[d,p,h,f]=l,g=s+2*(d-s)/3,y=r+2*(p-r)/3,v=h+2*(d-h)/3,M=f+2*(p-f)/3;e.push({key:"C",data:[g,y,v,M,h,f]}),i=d,c=p,s=h,r=f;break}case"A":{const d=Math.abs(l[0]),p=Math.abs(l[1]),h=l[2],f=l[3],g=l[4],y=l[5],v=l[6];d===0||p===0?(e.push({key:"C",data:[s,r,y,v,y,v]}),s=y,r=v):(s!==y||r!==v)&&(vn(s,r,y,v,d,p,h,f,g).forEach(function(M){e.push({key:"C",data:M})}),s=y,r=v);break}case"Z":e.push({key:"Z",data:[]}),s=o,r=a}n=u}return e}function St(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function vn(t,e,n,s,r,o,a,i,c,u){const l=(d=a,Math.PI*d/180);var d;let p=[],h=0,f=0,g=0,y=0;if(u)[h,f,g,y]=u;else{[t,e]=St(t,e,-l),[n,s]=St(n,s,-l);const N=(t-n)/2,T=(e-s)/2;let z=N*N/(r*r)+T*T/(o*o);z>1&&(z=Math.sqrt(z),r*=z,o*=z);const Q=r*r,A=o*o,j=Q*A-Q*T*T-A*N*N,R=Q*T*T+A*N*N,W=(i===c?-1:1)*Math.sqrt(Math.abs(j/R));g=W*r*T/o+(t+n)/2,y=W*-o*N/r+(e+s)/2,h=Math.asin(parseFloat(((e-y)/o).toFixed(9))),f=Math.asin(parseFloat(((s-y)/o).toFixed(9))),t<g&&(h=Math.PI-h),n<g&&(f=Math.PI-f),h<0&&(h=2*Math.PI+h),f<0&&(f=2*Math.PI+f),c&&h>f&&(h-=2*Math.PI),!c&&f>h&&(f-=2*Math.PI)}let v=f-h;if(Math.abs(v)>120*Math.PI/180){const N=f,T=n,z=s;f=c&&f>h?h+120*Math.PI/180*1:h+120*Math.PI/180*-1,p=vn(n=g+r*Math.cos(f),s=y+o*Math.sin(f),T,z,r,o,a,0,c,[f,N,g,y])}v=f-h;const M=Math.cos(h),E=Math.sin(h),I=Math.cos(f),P=Math.sin(f),D=Math.tan(v/4),Z=4/3*r*D,X=4/3*o*D,rt=[t,e],_=[t+Z*E,e-X*M],O=[n+Z*P,s-X*I],U=[n,s];if(_[0]=2*rt[0]-_[0],_[1]=2*rt[1]-_[1],u)return[_,O,U].concat(p);{p=[_,O,U].concat(p);const N=[];for(let T=0;T<p.length;T+=3){const z=St(p[T][0],p[T][1],l),Q=St(p[T+1][0],p[T+1][1],l),A=St(p[T+2][0],p[T+2][1],l);N.push([z[0],z[1],Q[0],Q[1],A[0],A[1]])}return N}}const Qs={randOffset:function(t,e){return S(t,e)},randOffsetWithRange:function(t,e,n){return Xt(t,e,n)},ellipse:function(t,e,n,s,r){const o=Mn(n,s,r);return ye(t,e,r,o).opset},doubleLineOps:function(t,e,n,s,r){return pt(t,e,n,s,r,!0)}};function kn(t,e,n,s,r){return{type:"path",ops:pt(t,e,n,s,r)}}function Ft(t,e,n){const s=(t||[]).length;if(s>2){const r=[];for(let o=0;o<s-1;o++)r.push(...pt(t[o][0],t[o][1],t[o+1][0],t[o+1][1],n));return e&&r.push(...pt(t[s-1][0],t[s-1][1],t[0][0],t[0][1],n)),{type:"path",ops:r}}return s===2?kn(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function Js(t,e,n,s,r){return function(o,a){return Ft(o,!0,a)}([[t,e],[t+n,e],[t+n,e+s],[t,e+s]],r)}function tr(t,e){let n=Ge(t,1*(1+.2*e.roughness),e);if(!e.disableMultiStroke){const s=Ge(t,1.5*(1+.22*e.roughness),function(r){const o=Object.assign({},r);return o.randomizer=void 0,r.seed&&(o.seed=r.seed+1),o}(e));n=n.concat(s)}return{type:"path",ops:n}}function Mn(t,e,n){const s=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),r=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*s)),o=2*Math.PI/r;let a=Math.abs(t/2),i=Math.abs(e/2);const c=1-n.curveFitting;return a+=S(a*c,n),i+=S(i*c,n),{increment:o,rx:a,ry:i}}function ye(t,e,n,s){const[r,o]=He(s.increment,t,e,s.rx,s.ry,1,s.increment*Xt(.1,Xt(.4,1,n),n),n);let a=Yt(r,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[i]=He(s.increment,t,e,s.rx,s.ry,1.5,0,n),c=Yt(i,null,n);a=a.concat(c)}return{estimatedPoints:o,opset:{type:"path",ops:a}}}function Be(t,e,n,s,r,o,a,i,c){const u=t,l=e;let d=Math.abs(n/2),p=Math.abs(s/2);d+=S(.01*d,c),p+=S(.01*p,c);let h=r,f=o;for(;h<0;)h+=2*Math.PI,f+=2*Math.PI;f-h>2*Math.PI&&(h=0,f=2*Math.PI);const g=2*Math.PI/c.curveStepCount,y=Math.min(g/2,(f-h)/2),v=Ke(y,u,l,d,p,h,f,1,c);if(!c.disableMultiStroke){const M=Ke(y,u,l,d,p,h,f,1.5,c);v.push(...M)}return a&&(i?v.push(...pt(u,l,u+d*Math.cos(h),l+p*Math.sin(h),c),...pt(u,l,u+d*Math.cos(f),l+p*Math.sin(f),c)):v.push({op:"lineTo",data:[u,l]},{op:"lineTo",data:[u+d*Math.cos(h),l+p*Math.sin(h)]})),{type:"path",ops:v}}function Nt(t,e){const n=[];for(const s of t)if(s.length){const r=e.maxRandomnessOffset||0,o=s.length;if(o>2){n.push({op:"move",data:[s[0][0]+S(r,e),s[0][1]+S(r,e)]});for(let a=1;a<o;a++)n.push({op:"lineTo",data:[s[a][0]+S(r,e),s[a][1]+S(r,e)]})}}return{type:"fillPath",ops:n}}function kt(t,e){return function(n,s){let r=n.fillStyle||"hachure";if(!st[r])switch(r){case"zigzag":st[r]||(st[r]=new Hs(s));break;case"cross-hatch":st[r]||(st[r]=new Ks(s));break;case"dots":st[r]||(st[r]=new Xs(s));break;case"dashed":st[r]||(st[r]=new Ys(s));break;case"zigzag-line":st[r]||(st[r]=new Vs(s));break;case"hachure":default:r="hachure",st[r]||(st[r]=new Pe(s))}return st[r]}(e,Qs).fillPolygons(t,e)}function $n(t){return t.randomizer||(t.randomizer=new Zs(t.seed||0)),t.randomizer.next()}function Xt(t,e,n,s=1){return n.roughness*s*($n(n)*(e-t)+t)}function S(t,e,n=1){return Xt(-t,t,e,n)}function pt(t,e,n,s,r,o=!1){const a=o?r.disableMultiStrokeFill:r.disableMultiStroke,i=Ue(t,e,n,s,r,!0,!1);if(a)return i;const c=Ue(t,e,n,s,r,!0,!0);return i.concat(c)}function Ue(t,e,n,s,r,o,a){const i=Math.pow(t-n,2)+Math.pow(e-s,2),c=Math.sqrt(i);let u=1;u=c<200?1:c>500?.4:-.0016668*c+1.233334;let l=r.maxRandomnessOffset||0;l*l*100>i&&(l=c/10);const d=l/2,p=.2+.2*$n(r);let h=r.bowing*r.maxRandomnessOffset*(s-e)/200,f=r.bowing*r.maxRandomnessOffset*(t-n)/200;h=S(h,r,u),f=S(f,r,u);const g=[],y=()=>S(d,r,u),v=()=>S(l,r,u),M=r.preserveVertices;return o&&(a?g.push({op:"move",data:[t+(M?0:y()),e+(M?0:y())]}):g.push({op:"move",data:[t+(M?0:S(l,r,u)),e+(M?0:S(l,r,u))]})),a?g.push({op:"bcurveTo",data:[h+t+(n-t)*p+y(),f+e+(s-e)*p+y(),h+t+2*(n-t)*p+y(),f+e+2*(s-e)*p+y(),n+(M?0:y()),s+(M?0:y())]}):g.push({op:"bcurveTo",data:[h+t+(n-t)*p+v(),f+e+(s-e)*p+v(),h+t+2*(n-t)*p+v(),f+e+2*(s-e)*p+v(),n+(M?0:v()),s+(M?0:v())]}),g}function Ge(t,e,n){const s=[];s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]),s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]);for(let r=1;r<t.length;r++)s.push([t[r][0]+S(e,n),t[r][1]+S(e,n)]),r===t.length-1&&s.push([t[r][0]+S(e,n),t[r][1]+S(e,n)]);return Yt(s,null,n)}function Yt(t,e,n){const s=t.length,r=[];if(s>3){const o=[],a=1-n.curveTightness;r.push({op:"move",data:[t[1][0],t[1][1]]});for(let i=1;i+2<s;i++){const c=t[i];o[0]=[c[0],c[1]],o[1]=[c[0]+(a*t[i+1][0]-a*t[i-1][0])/6,c[1]+(a*t[i+1][1]-a*t[i-1][1])/6],o[2]=[t[i+1][0]+(a*t[i][0]-a*t[i+2][0])/6,t[i+1][1]+(a*t[i][1]-a*t[i+2][1])/6],o[3]=[t[i+1][0],t[i+1][1]],r.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(e&&e.length===2){const i=n.maxRandomnessOffset;r.push({op:"lineTo",data:[e[0]+S(i,n),e[1]+S(i,n)]})}}else s===3?(r.push({op:"move",data:[t[1][0],t[1][1]]}),r.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):s===2&&r.push(...pt(t[0][0],t[0][1],t[1][0],t[1][1],n));return r}function He(t,e,n,s,r,o,a,i){const c=[],u=[];if(i.roughness===0){t/=4,u.push([e+s*Math.cos(-t),n+r*Math.sin(-t)]);for(let l=0;l<=2*Math.PI;l+=t){const d=[e+s*Math.cos(l),n+r*Math.sin(l)];c.push(d),u.push(d)}u.push([e+s*Math.cos(0),n+r*Math.sin(0)]),u.push([e+s*Math.cos(t),n+r*Math.sin(t)])}else{const l=S(.5,i)-Math.PI/2;u.push([S(o,i)+e+.9*s*Math.cos(l-t),S(o,i)+n+.9*r*Math.sin(l-t)]);const d=2*Math.PI+l-.01;for(let p=l;p<d;p+=t){const h=[S(o,i)+e+s*Math.cos(p),S(o,i)+n+r*Math.sin(p)];c.push(h),u.push(h)}u.push([S(o,i)+e+s*Math.cos(l+2*Math.PI+.5*a),S(o,i)+n+r*Math.sin(l+2*Math.PI+.5*a)]),u.push([S(o,i)+e+.98*s*Math.cos(l+a),S(o,i)+n+.98*r*Math.sin(l+a)]),u.push([S(o,i)+e+.9*s*Math.cos(l+.5*a),S(o,i)+n+.9*r*Math.sin(l+.5*a)])}return[u,c]}function Ke(t,e,n,s,r,o,a,i,c){const u=o+S(.1,c),l=[];l.push([S(i,c)+e+.9*s*Math.cos(u-t),S(i,c)+n+.9*r*Math.sin(u-t)]);for(let d=u;d<=a;d+=t)l.push([S(i,c)+e+s*Math.cos(d),S(i,c)+n+r*Math.sin(d)]);return l.push([e+s*Math.cos(a),n+r*Math.sin(a)]),l.push([e+s*Math.cos(a),n+r*Math.sin(a)]),Yt(l,null,c)}function er(t,e,n,s,r,o,a,i){const c=[],u=[i.maxRandomnessOffset||1,(i.maxRandomnessOffset||1)+.3];let l=[0,0];const d=i.disableMultiStroke?1:2,p=i.preserveVertices;for(let h=0;h<d;h++)h===0?c.push({op:"move",data:[a[0],a[1]]}):c.push({op:"move",data:[a[0]+(p?0:S(u[0],i)),a[1]+(p?0:S(u[0],i))]}),l=p?[r,o]:[r+S(u[h],i),o+S(u[h],i)],c.push({op:"bcurveTo",data:[t+S(u[h],i),e+S(u[h],i),n+S(u[h],i),s+S(u[h],i),l[0],l[1]]});return c}function _t(t){return[...t]}function qt(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function nr(t,e,n){const s=qt(e,n);if(s===0)return qt(t,e);let r=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/s;return r=Math.max(0,Math.min(1,r)),qt(t,bt(e,n,r))}function bt(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function me(t,e,n,s){const r=s||[];if(function(i,c){const u=i[c+0],l=i[c+1],d=i[c+2],p=i[c+3];let h=3*l[0]-2*u[0]-p[0];h*=h;let f=3*l[1]-2*u[1]-p[1];f*=f;let g=3*d[0]-2*p[0]-u[0];g*=g;let y=3*d[1]-2*p[1]-u[1];return y*=y,h<g&&(h=g),f<y&&(f=y),h+f}(t,e)<n){const i=t[e+0];r.length?(o=r[r.length-1],a=i,Math.sqrt(qt(o,a))>1&&r.push(i)):r.push(i),r.push(t[e+3])}else{const c=t[e+0],u=t[e+1],l=t[e+2],d=t[e+3],p=bt(c,u,.5),h=bt(u,l,.5),f=bt(l,d,.5),g=bt(p,h,.5),y=bt(h,f,.5),v=bt(g,y,.5);me([c,p,g,v],0,n,r),me([v,y,f,d],0,n,r)}var o,a;return r}function sr(t,e){return Vt(t,0,t.length,e)}function Vt(t,e,n,s,r){const o=r||[],a=t[e],i=t[n-1];let c=0,u=1;for(let l=e+1;l<n-1;++l){const d=nr(t[l],a,i);d>c&&(c=d,u=l)}return Math.sqrt(c)>s?(Vt(t,e,u+1,s,o),Vt(t,u,n,s,o)):(o.length||o.push(a),o.push(i)),o}function Xe(t,e=.15,n){const s=[],r=(t.length-1)/3;for(let o=0;o<r;o++)me(t,3*o,e,s);return n&&n>0?Vt(s,0,s.length,n):s}const it="none";class Zt{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,s){return{shape:e,sets:n||[],options:s||this.defaultOptions}}line(e,n,s,r,o){const a=this._o(o);return this._d("line",[kn(e,n,s,r,a)],a)}rectangle(e,n,s,r,o){const a=this._o(o),i=[],c=Js(e,n,s,r,a);if(a.fill){const u=[[e,n],[e+s,n],[e+s,n+r],[e,n+r]];a.fillStyle==="solid"?i.push(Nt([u],a)):i.push(kt([u],a))}return a.stroke!==it&&i.push(c),this._d("rectangle",i,a)}ellipse(e,n,s,r,o){const a=this._o(o),i=[],c=Mn(s,r,a),u=ye(e,n,a,c);if(a.fill)if(a.fillStyle==="solid"){const l=ye(e,n,a,c).opset;l.type="fillPath",i.push(l)}else i.push(kt([u.estimatedPoints],a));return a.stroke!==it&&i.push(u.opset),this._d("ellipse",i,a)}circle(e,n,s,r){const o=this.ellipse(e,n,s,s,r);return o.shape="circle",o}linearPath(e,n){const s=this._o(n);return this._d("linearPath",[Ft(e,!1,s)],s)}arc(e,n,s,r,o,a,i=!1,c){const u=this._o(c),l=[],d=Be(e,n,s,r,o,a,i,!0,u);if(i&&u.fill)if(u.fillStyle==="solid"){const p=Object.assign({},u);p.disableMultiStroke=!0;const h=Be(e,n,s,r,o,a,!0,!1,p);h.type="fillPath",l.push(h)}else l.push(function(p,h,f,g,y,v,M){const E=p,I=h;let P=Math.abs(f/2),D=Math.abs(g/2);P+=S(.01*P,M),D+=S(.01*D,M);let Z=y,X=v;for(;Z<0;)Z+=2*Math.PI,X+=2*Math.PI;X-Z>2*Math.PI&&(Z=0,X=2*Math.PI);const rt=(X-Z)/M.curveStepCount,_=[];for(let O=Z;O<=X;O+=rt)_.push([E+P*Math.cos(O),I+D*Math.sin(O)]);return _.push([E+P*Math.cos(X),I+D*Math.sin(X)]),_.push([E,I]),kt([_],M)}(e,n,s,r,o,a,u));return u.stroke!==it&&l.push(d),this._d("arc",l,u)}curve(e,n){const s=this._o(n),r=[],o=tr(e,s);if(s.fill&&s.fill!==it&&e.length>=3){const a=Xe(function(i,c=0){const u=i.length;if(u<3)throw new Error("A curve must have at least three points.");const l=[];if(u===3)l.push(_t(i[0]),_t(i[1]),_t(i[2]),_t(i[2]));else{const d=[];d.push(i[0],i[0]);for(let f=1;f<i.length;f++)d.push(i[f]),f===i.length-1&&d.push(i[f]);const p=[],h=1-c;l.push(_t(d[0]));for(let f=1;f+2<d.length;f++){const g=d[f];p[0]=[g[0],g[1]],p[1]=[g[0]+(h*d[f+1][0]-h*d[f-1][0])/6,g[1]+(h*d[f+1][1]-h*d[f-1][1])/6],p[2]=[d[f+1][0]+(h*d[f][0]-h*d[f+2][0])/6,d[f+1][1]+(h*d[f][1]-h*d[f+2][1])/6],p[3]=[d[f+1][0],d[f+1][1]],l.push(p[1],p[2],p[3])}}return l}(e),10,(1+s.roughness)/2);s.fillStyle==="solid"?r.push(Nt([a],s)):r.push(kt([a],s))}return s.stroke!==it&&r.push(o),this._d("curve",r,s)}polygon(e,n){const s=this._o(n),r=[],o=Ft(e,!0,s);return s.fill&&(s.fillStyle==="solid"?r.push(Nt([e],s)):r.push(kt([e],s))),s.stroke!==it&&r.push(o),this._d("polygon",r,s)}path(e,n){const s=this._o(n),r=[];if(!e)return this._d("path",r,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=s.fill&&s.fill!=="transparent"&&s.fill!==it,a=s.stroke!==it,i=!!(s.simplification&&s.simplification<1),c=function(u,l,d){const p=qe(Fe(ge(u))),h=[];let f=[],g=[0,0],y=[];const v=()=>{y.length>=4&&f.push(...Xe(y,l)),y=[]},M=()=>{v(),f.length&&(h.push(f),f=[])};for(const{key:I,data:P}of p)switch(I){case"M":M(),g=[P[0],P[1]],f.push(g);break;case"L":v(),f.push([P[0],P[1]]);break;case"C":if(!y.length){const D=f.length?f[f.length-1]:g;y.push([D[0],D[1]])}y.push([P[0],P[1]]),y.push([P[2],P[3]]),y.push([P[4],P[5]]);break;case"Z":v(),f.push([g[0],g[1]])}if(M(),!d)return h;const E=[];for(const I of h){const P=sr(I,d);P.length&&E.push(P)}return E}(e,1,i?4-4*s.simplification:(1+s.roughness)/2);return o&&(s.fillStyle==="solid"?r.push(Nt(c,s)):r.push(kt(c,s))),a&&(i?c.forEach(u=>{r.push(Ft(u,!1,s))}):r.push(function(u,l){const d=qe(Fe(ge(u))),p=[];let h=[0,0],f=[0,0];for(const{key:g,data:y}of d)switch(g){case"M":{const v=1*(l.maxRandomnessOffset||0),M=l.preserveVertices;p.push({op:"move",data:y.map(E=>E+(M?0:S(v,l)))}),f=[y[0],y[1]],h=[y[0],y[1]];break}case"L":p.push(...pt(f[0],f[1],y[0],y[1],l)),f=[y[0],y[1]];break;case"C":{const[v,M,E,I,P,D]=y;p.push(...er(v,M,E,I,P,D,f,l)),f=[P,D];break}case"Z":p.push(...pt(f[0],f[1],h[0],h[1],l)),f=[h[0],h[1]]}return{type:"path",ops:p}}(e,s))),this._d("path",r,s)}opsToPath(e,n){let s="";for(const r of e.ops){const o=typeof n=="number"&&n>=0?r.data.map(a=>+a.toFixed(n)):r.data;switch(r.op){case"move":s+=`M${o[0]} ${o[1]} `;break;case"bcurveTo":s+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":s+=`L${o[0]} ${o[1]} `}}return s.trim()}toPaths(e){const n=e.sets||[],s=e.options||this.defaultOptions,r=[];for(const o of n){let a=null;switch(o.type){case"path":a={d:this.opsToPath(o),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:it};break;case"fillPath":a={d:this.opsToPath(o),stroke:it,strokeWidth:0,fill:s.fill||it};break;case"fillSketch":a=this.fillSketch(o,s)}a&&r.push(a)}return r}fillSketch(e,n){let s=n.fillWeight;return s<0&&(s=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||it,strokeWidth:s,fill:it}}}let rr=class{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new Zt(n)}draw(e){const n=e.sets||[],s=e.options||this.getDefaultOptions(),r=this.ctx,o=e.options.fixedDecimalPlaceDigits;for(const a of n)switch(a.type){case"path":r.save(),r.strokeStyle=s.stroke==="none"?"transparent":s.stroke,r.lineWidth=s.strokeWidth,s.strokeLineDash&&r.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(r.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(r,a,o),r.restore();break;case"fillPath":{r.save(),r.fillStyle=s.fill||"";const i=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(r,a,o,i),r.restore();break}case"fillSketch":this.fillSketch(r,a,s)}}fillSketch(e,n,s){let r=s.fillWeight;r<0&&(r=s.strokeWidth/2),e.save(),s.fillLineDash&&e.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(e.lineDashOffset=s.fillLineDashOffset),e.strokeStyle=s.fill||"",e.lineWidth=r,this._drawToContext(e,n,s.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,s,r="nonzero"){e.beginPath();for(const o of n.ops){const a=typeof s=="number"&&s>=0?o.data.map(i=>+i.toFixed(s)):o.data;switch(o.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}n.type==="fillPath"?e.fill(r):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,s,r,o){const a=this.gen.line(e,n,s,r,o);return this.draw(a),a}rectangle(e,n,s,r,o){const a=this.gen.rectangle(e,n,s,r,o);return this.draw(a),a}ellipse(e,n,s,r,o){const a=this.gen.ellipse(e,n,s,r,o);return this.draw(a),a}circle(e,n,s,r){const o=this.gen.circle(e,n,s,r);return this.draw(o),o}linearPath(e,n){const s=this.gen.linearPath(e,n);return this.draw(s),s}polygon(e,n){const s=this.gen.polygon(e,n);return this.draw(s),s}arc(e,n,s,r,o,a,i=!1,c){const u=this.gen.arc(e,n,s,r,o,a,i,c);return this.draw(u),u}curve(e,n){const s=this.gen.curve(e,n);return this.draw(s),s}path(e,n){const s=this.gen.path(e,n);return this.draw(s),s}};const jt="http://www.w3.org/2000/svg";let or=class{constructor(e,n){this.svg=e,this.gen=new Zt(n)}draw(e){const n=e.sets||[],s=e.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,o=r.createElementNS(jt,"g"),a=e.options.fixedDecimalPlaceDigits;for(const i of n){let c=null;switch(i.type){case"path":c=r.createElementNS(jt,"path"),c.setAttribute("d",this.opsToPath(i,a)),c.setAttribute("stroke",s.stroke),c.setAttribute("stroke-width",s.strokeWidth+""),c.setAttribute("fill","none"),s.strokeLineDash&&c.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&c.setAttribute("stroke-dashoffset",`${s.strokeLineDashOffset}`);break;case"fillPath":c=r.createElementNS(jt,"path"),c.setAttribute("d",this.opsToPath(i,a)),c.setAttribute("stroke","none"),c.setAttribute("stroke-width","0"),c.setAttribute("fill",s.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||c.setAttribute("fill-rule","evenodd");break;case"fillSketch":c=this.fillSketch(r,i,s)}c&&o.appendChild(c)}return o}fillSketch(e,n,s){let r=s.fillWeight;r<0&&(r=s.strokeWidth/2);const o=e.createElementNS(jt,"path");return o.setAttribute("d",this.opsToPath(n,s.fixedDecimalPlaceDigits)),o.setAttribute("stroke",s.fill||""),o.setAttribute("stroke-width",r+""),o.setAttribute("fill","none"),s.fillLineDash&&o.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&o.setAttribute("stroke-dashoffset",`${s.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,s,r,o){const a=this.gen.line(e,n,s,r,o);return this.draw(a)}rectangle(e,n,s,r,o){const a=this.gen.rectangle(e,n,s,r,o);return this.draw(a)}ellipse(e,n,s,r,o){const a=this.gen.ellipse(e,n,s,r,o);return this.draw(a)}circle(e,n,s,r){const o=this.gen.circle(e,n,s,r);return this.draw(o)}linearPath(e,n){const s=this.gen.linearPath(e,n);return this.draw(s)}polygon(e,n){const s=this.gen.polygon(e,n);return this.draw(s)}arc(e,n,s,r,o,a,i=!1,c){const u=this.gen.arc(e,n,s,r,o,a,i,c);return this.draw(u)}curve(e,n){const s=this.gen.curve(e,n);return this.draw(s)}path(e,n){const s=this.gen.path(e,n);return this.draw(s)}};var Ye={canvas:(t,e)=>new rr(t,e),svg:(t,e)=>new or(t,e),generator:t=>new Zt(t),newSeed:()=>Zt.newSeed()};const ir="/Itervisus/assets/empty-cursor-e882b6a6.svg",ar="/Itervisus/assets/filled-cursor-bff18f2b.svg",lr="/Itervisus/assets/empty-line-85aa8411.svg",cr="/Itervisus/assets/filled-line-09ab568c.svg",ur="/Itervisus/assets/empty-square-894f0684.svg",fr="/Itervisus/assets/filled-square-bf564fc3.svg",hr="/Itervisus/assets/empty-pencil-a9d73307.svg",dr="/Itervisus/assets/filled-pencil-5ed0f8fa.svg",pr="/Itervisus/assets/empty-text-ecce6a4d.svg",gr="/Itervisus/assets/filled-text-ffac0b2f.svg",yr="/Itervisus/assets/undo-0a930840.svg",mr="/Itervisus/assets/redo-d3b1e486.svg",br="/Itervisus/assets/trash-can-8327aa02.svg",wr=t=>{const[e,n]=J(0),[s,r]=J([t]);return{elements:()=>s()[e()],setElements:(d,p=!1)=>{const h=typeof d=="function"?d(s()[e()]):d;if(p){const g=[...s()];g[e()]=h,r(g);return}const f=s().slice(0,e()+1);r([...f,h]),n(g=>g+1)},undo:()=>{e()>0&&n(d=>d-1)},canUndo:()=>e()>0,redo:()=>{e()<s().length-1&&n(d=>d+1)},canRedo:()=>e()<s().length-1}};function Ve(t,e,n,s=r=>r){return t*s(.5-e*(.5-n))}function xr(t){return[-t[0],-t[1]]}function ht(t,e){return[t[0]+e[0],t[1]+e[1]]}function at(t,e){return[t[0]-e[0],t[1]-e[1]]}function ft(t,e){return[t[0]*e,t[1]*e]}function vr(t,e){return[t[0]/e,t[1]/e]}function At(t){return[t[1],-t[0]]}function Ze(t,e){return t[0]*e[0]+t[1]*e[1]}function kr(t,e){return t[0]===e[0]&&t[1]===e[1]}function Mr(t){return Math.hypot(t[0],t[1])}function $r(t){return t[0]*t[0]+t[1]*t[1]}function Qe(t,e){return $r(at(t,e))}function Pn(t){return vr(t,Mr(t))}function Pr(t,e){return Math.hypot(t[1]-e[1],t[0]-e[0])}function Lt(t,e,n){let s=Math.sin(n),r=Math.cos(n),o=t[0]-e[0],a=t[1]-e[1],i=o*r-a*s,c=o*s+a*r;return[i+e[0],c+e[1]]}function be(t,e,n){return ht(t,ft(at(e,t),n))}function Je(t,e,n){return ht(t,ft(e,n))}var{min:Mt,PI:Sr}=Math,tn=.275,Ot=Sr+1e-4;function _r(t,e={}){let{size:n=16,smoothing:s=.5,thinning:r=.5,simulatePressure:o=!0,easing:a=A=>A,start:i={},end:c={},last:u=!1}=e,{cap:l=!0,easing:d=A=>A*(2-A)}=i,{cap:p=!0,easing:h=A=>--A*A*A+1}=c;if(t.length===0||n<=0)return[];let f=t[t.length-1].runningLength,g=i.taper===!1?0:i.taper===!0?Math.max(n,f):i.taper,y=c.taper===!1?0:c.taper===!0?Math.max(n,f):c.taper,v=Math.pow(n*s,2),M=[],E=[],I=t.slice(0,10).reduce((A,j)=>{let R=j.pressure;if(o){let W=Mt(1,j.distance/n),b=Mt(1,1-W);R=Mt(1,A+(b-A)*(W*tn))}return(A+R)/2},t[0].pressure),P=Ve(n,r,t[t.length-1].pressure,a),D,Z=t[0].vector,X=t[0].point,rt=X,_=X,O=rt,U=!1;for(let A=0;A<t.length;A++){let{pressure:j}=t[A],{point:R,vector:W,distance:b,runningLength:m}=t[A];if(A<t.length-1&&f-m<3)continue;if(r){if(o){let Y=Mt(1,b/n),ot=Mt(1,1-Y);j=Mt(1,I+(ot-I)*(Y*tn))}P=Ve(n,r,j,a)}else P=n/2;D===void 0&&(D=P);let w=m<g?d(m/g):1,x=f-m<y?h((f-m)/y):1;P=Math.max(.01,P*Math.min(w,x));let $=(A<t.length-1?t[A+1]:t[A]).vector,k=A<t.length-1?Ze(W,$):1,C=Ze(W,Z)<0&&!U,G=k!==null&&k<0;if(C||G){let Y=ft(At(Z),P);for(let ot=1/13,ut=0;ut<=1;ut+=ot)_=Lt(at(R,Y),R,Ot*ut),M.push(_),O=Lt(ht(R,Y),R,Ot*-ut),E.push(O);X=_,rt=O,G&&(U=!0);continue}if(U=!1,A===t.length-1){let Y=ft(At(W),P);M.push(at(R,Y)),E.push(ht(R,Y));continue}let H=ft(At(be($,W,k)),P);_=at(R,H),(A<=1||Qe(X,_)>v)&&(M.push(_),X=_),O=ht(R,H),(A<=1||Qe(rt,O)>v)&&(E.push(O),rt=O),I=j,Z=W}let N=t[0].point.slice(0,2),T=t.length>1?t[t.length-1].point.slice(0,2):ht(t[0].point,[1,1]),z=[],Q=[];if(t.length===1){if(!(g||y)||u){let A=Je(N,Pn(At(at(N,T))),-(D||P)),j=[];for(let R=1/13,W=R;W<=1;W+=R)j.push(Lt(A,N,Ot*2*W));return j}}else{if(!(g||y&&t.length===1))if(l)for(let j=1/13,R=j;R<=1;R+=j){let W=Lt(E[0],N,Ot*R);z.push(W)}else{let j=at(M[0],E[0]),R=ft(j,.5),W=ft(j,.51);z.push(at(N,R),at(N,W),ht(N,W),ht(N,R))}let A=At(xr(t[t.length-1].vector));if(y||g&&t.length===1)Q.push(T);else if(p){let j=Je(T,A,P);for(let R=1/29,W=R;W<1;W+=R)Q.push(Lt(j,T,Ot*3*W))}else Q.push(ht(T,ft(A,P)),ht(T,ft(A,P*.99)),at(T,ft(A,P*.99)),at(T,ft(A,P)))}return M.concat(Q,E.reverse(),z)}function Ar(t,e={}){var n;let{streamline:s=.5,size:r=16,last:o=!1}=e;if(t.length===0)return[];let a=.15+(1-s)*.85,i=Array.isArray(t[0])?t:t.map(({x:h,y:f,pressure:g=.5})=>[h,f,g]);if(i.length===2){let h=i[1];i=i.slice(0,-1);for(let f=1;f<5;f++)i.push(be(i[0],h,f/4))}i.length===1&&(i=[...i,[...ht(i[0],[1,1]),...i[0].slice(2)]]);let c=[{point:[i[0][0],i[0][1]],pressure:i[0][2]>=0?i[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,l=0,d=c[0],p=i.length-1;for(let h=1;h<i.length;h++){let f=o&&h===p?i[h].slice(0,2):be(d.point,i[h],a);if(kr(d.point,f))continue;let g=Pr(f,d.point);if(l+=g,h<p&&!u){if(l<r)continue;u=!0}d={point:f,pressure:i[h][2]>=0?i[h][2]:.5,vector:Pn(at(d.point,f)),distance:g,runningLength:l},c.push(d)}return c[0].vector=((n=c[1])==null?void 0:n.vector)||[0,0],c}function Lr(t,e={}){return _r(Ar(t,e),e)}var Or=Lr;const zt=(t,e)=>(t+e)/2,Er=(t,e=!0)=>{const n=t.length;if(n<4)return"";let s=t[0],r=t[1];const o=t[2];let a=`M${s[0].toFixed(2)},${s[1].toFixed(2)} Q${r[0].toFixed(2)},${r[1].toFixed(2)} ${zt(r[0],o[0]).toFixed(2)},${zt(r[1],o[1]).toFixed(2)} T`;for(let i=2,c=n-1;i<c;i++)s=t[i],r=t[i+1],a+=`${zt(s[0],r[0]).toFixed(2)},${zt(s[1],r[1]).toFixed(2)} `;return e&&(a+="Z"),a};const Tr="/Itervisus/assets/plus-3ce30652.svg",Cr="/Itervisus/assets/minus-07dff56c.svg",Ir=et('<div id="zoom"><button><img alt="Zoom out"></button><button></button><button><img alt="Zoom in">'),Rr=t=>{const e=n=>{t.setScale(s=>Math.min(Math.max(s+n,.1),10))};return(()=>{const n=Ir(),s=n.firstChild,r=s.firstChild,o=s.nextSibling,a=o.nextSibling,i=a.firstChild;return s.$$click=()=>e(-.1),K(r,"src",Cr),o.$$click=()=>t.setScale(1),nt(o,()=>new Intl.NumberFormat("en-US",{style:"percent"}).format(t.scale())),a.$$click=()=>e(.1),K(i,"src",Tr),n})()};te(["click"]);const Dr=()=>{const[t,e]=J(1),[n,s]=J({x:0,y:0});we(()=>{r()},[t]),Pt(()=>{document.removeEventListener("wheel",o)});const r=()=>{const a=document.querySelector("#canvas"),i=a.width*t(),c=a.height*t(),u=(i-a.width)/2,l=(c-a.height)/2;s({x:u,y:l})},o=a=>{const i=a.deltaY*-.01;e(c=>Math.min(Math.max(c+i,.1),10))};return document.addEventListener("wheel",o),{scale:t,setScale:e,scaleOffset:n}},en=et('<img alt="Cursor">'),nn=et('<img alt="Pencil">'),sn=et('<img alt="Line">'),Nr=et('<img alt="Square">'),rn=et('<img alt="Text">'),jr=et('<div id="option-selection"><button></button><button></button><button></button><button></button><button></button><button id="undo"><img alt="Undo"></button><button id="redo"><img alt="Redo"></button><button id="trash"><img alt="Trash">'),zr=et("<textarea>"),Wr=et('<div id="whiteboard"><canvas id="canvas">'),Fr=et('<img alt="Rectangle">'),qr=()=>{const{elements:t,setElements:e,undo:n,canUndo:s,redo:r,canRedo:o}=wr([]),[a,i]=J(null),[c,u]=J("default"),[l,d]=J("pencil"),[p,h]=J({x:0,y:0}),[f,g]=J({x:0,y:0}),{scale:y,setScale:v,scaleOffset:M}=Dr();document.addEventListener("keydown",b=>{(b.metaKey||b.ctrlKey)&&b.key=="z"&&(b.shiftKey?r():n())}),we(()=>{const b=document.querySelector("#canvas"),m=b.getContext("2d"),w=Ye.canvas(b);m.clearRect(0,0,b.width,b.height);const{x,y:$}=M();m.save(),m.translate(p().x*y()-x,p().y*y()-$),m.scale(y(),y()),t().forEach(k=>{c()==="writing"&&a().id===k.id||I(k,w,m)}),m.restore()},[p]);const E=b=>{c()==="writing"&&setTimeout(()=>{b.focus(),b.value=a().text})},I=(b,m,w)=>{switch(b.type){case"line":case"rectangle":{m.draw(b.drawable);break}case"pencil":{const x=Or(b.points,{size:3}),$=Er(x);w.fill(new Path2D($));break}case"text":{w.textBaseline="top",w.font='24px "Gill Sans", sans-serif',w.fillText(b.text,b.start.x,b.start.y);break}}},P=(b,m,w,x)=>{const $=Ye.generator();switch(x){case"line":case"rectangle":const k=x==="line"?$.line(m.x,m.y,w.x,w.y):$.rectangle(m.x,m.y,w.x-m.x,w.y-m.y);return{id:b,drawable:k,start:m,end:w,type:x};case"pencil":return{id:b,type:x,points:[m]};case"text":return{id:b,type:x,start:m,end:w,text:""};default:throw new Error("Unknown element type")}},D=(b,m,w,x,$={})=>{const k=[...t()];switch(x){case"line":case"rectangle":k[b]=P(b,m,w,x);break;case"pencil":const C=k[b];C.points=[...k[b].points,w];break;case"text":const Y=document.querySelector("#canvas").getContext("2d").measureText($.text).width,ot=24;k[b]={...P(b,m,{x:m.x+Y,y:m.y+ot},x),text:$.text};break}e(k,!0)},Z=b=>t().map(m=>({...m,mousePosition:X(b,m)})).find(m=>m.mousePosition!==null),X=(b,m)=>{switch(m.type){case"line":{const w=rt(m.start,m.end,b)?"inside":null,x=_(b,m.start)?"start":null,$=_(b,m.end)?"end":null;return x??$??w}case"rectangle":{const{x:w,y:x}=m.start,{x:$,y:k}=m.end,C=_(b,{x:w,y:x})?"topLeft":null,G=_(b,{x:$,y:x})?"topRight":null,H=_(b,{x:w,y:k})?"bottomLeft":null,Y=_(b,{x:$,y:k})?"bottomRight":null,ot=b.x>=w&&b.x<=$&&b.y>=x&&b.y<=k?"inside":null;return C??G??H??Y??ot}case"pencil":return m.points.some((x,$)=>{const k=m.points[$+1];return k?rt(x,k,b,5):!1})?"inside":null;case"text":{const{x:w,y:x}=m.start,{x:$,y:k}=m.end;return b.x>=w&&b.x<=$&&b.y>=x&&b.y<=k?"inside":null}default:return null}},rt=(b,m,w,x=3)=>{const $=O(b,m)-O(b,w)-O(m,w);return Math.abs($)<x},_=(b,m)=>Math.abs(b.x-m.x)<5&&Math.abs(b.y-m.y)<5,O=(b,m)=>Math.sqrt(Math.pow(b.x-m.x,2)+Math.pow(b.y-m.y,2)),U=b=>{switch(b){case"inside":return"move";case"topLeft":case"bottomRight":case"start":case"end":return"nwse-resize";case"topRight":case"bottomLeft":return"nesw-resize";default:return"default"}},N=b=>{const{start:m,end:w,type:x}=b;switch(x){case"line":return m.x<w.x||m.x==w.x&&m.y<w.y?{start:m,end:w}:{start:w,end:m};case"rectangle":const $=Math.min(m.x,w.x),k=Math.max(m.x,w.x),C=Math.min(m.y,w.y),G=Math.max(m.y,w.y);return{start:{x:$,y:C},end:{x:k,y:G}};default:return{start:m,end:w}}},T=(b,m,w,x)=>{const{x:$,y:k}=b,{x:C,y:G}=m,{x:H,y:Y}=w;switch(x){case"topLeft":case"start":return{start:b,end:w};case"topRight":return{start:{x:C,y:k},end:{x:$,y:Y}};case"bottomLeft":return{start:{x:$,y:G},end:{x:H,y:k}};case"bottomRight":case"end":return{start:m,end:b}}},z=b=>{const m=(b.offsetX-p().x*y()+M().x)/y(),w=(b.offsetY-p().y*y()+M().y)/y();return{x:m,y:w}},Q=b=>{if(c()==="writing")return;const{x:m,y:w}=z(b),x={x:m,y:w};if(b.button===1){u("panning"),g(x);return}if(l()==="selection"){const k=Z(x);if(!k)return;if(k.type==="pencil"){const C=k.points.map(H=>m-H.x),G=k.points.map(H=>w-H.y);i({...k,xOffsets:C,yOffsets:G})}else{const C=m-k.start.x,G=w-k.start.y;i({...k,offset:{x:C,y:G}})}e(C=>C),k.mousePosition=="inside"?u("moving"):u("resizing");return}const $=P(t().length,x,x,l());e(k=>[...k,$]),i($),u(l()==="text"?"writing":"drawing")},A=b=>{const{x:m,y:w}=z(b);if(c()==="panning"){const x=m-f().x,$=w-f().y;h(k=>({x:k.x+x,y:k.y+$}));return}if(l()=="selection"&&b.target instanceof HTMLCanvasElement){const x=Z({x:m,y:w});b.target.style.cursor=x?.mousePosition?U(x.mousePosition):"default"}switch(c()){case"drawing":{const x=t().length-1,{start:$}=t()[x];D(x,$,{x:m,y:w},l());break}case"moving":{const x=a();if(!x)return;if(x.type==="pencil"){const $=x.points.map((C,G)=>({x:m-x.xOffsets[G],y:w-x.yOffsets[G]})),k=[...t()];k[x.id]={...k[x.id],points:$},e(k,!0)}else{const{id:$,start:k,end:C,type:G,offset:H}=x,Y=C.x-k.x,ot=C.y-k.y;if(!H)return;const ut={x:m-H.x,y:w-H.y},L=G==="text"?{text:x.text}:{};D($,{x:ut.x,y:ut.y},{x:ut.x+Y,y:ut.y+ot},G,L)}break}case"resizing":{const{id:x,type:$,mousePosition:k,start:C,end:G}=a(),{start:H,end:Y}=T({x:m,y:w},C,G,k);D(x,H,Y,$);break}}},j=b=>{const{offsetX:m,offsetY:w}=b,x=a();if(c()==="panning"){u("default");return}if(!x)return;if(x.type==="text"&&x.offset&&m-x.offset.x===x.start.x&&w-x.offset.y===x.start.y){u("writing");return}const $=x.id,{id:k,type:C}=t()[$];if((c()=="drawing"||c()=="resizing")&&W(C)){const{start:G,end:H}=N(t()[$]);D(k,G,H,C)}c()!=="writing"&&(u("default"),i(null),b.target instanceof HTMLCanvasElement&&(b.target.style.cursor="default"))},R=b=>{const{id:m,start:w,type:x}=a();u("default"),i(null),D(m,w,w,x,{text:b.target.value})},W=b=>b==="line"||b==="rectangle";return[(()=>{const b=jr(),m=b.firstChild,w=m.nextSibling,x=w.nextSibling,$=x.nextSibling,k=$.nextSibling,C=k.nextSibling,G=C.firstChild,H=C.nextSibling,Y=H.firstChild,ot=H.nextSibling,ut=ot.firstChild;return m.$$click=()=>d("selection"),nt(m,q(yt,{get when(){return l()=="selection"},get fallback(){return(()=>{const L=en();return K(L,"src",ir),L})()},get children(){const L=en();return K(L,"src",ar),L}})),w.$$click=()=>d("pencil"),nt(w,q(yt,{get when(){return l()=="pencil"},get fallback(){return(()=>{const L=nn();return K(L,"src",hr),L})()},get children(){const L=nn();return K(L,"src",dr),L}})),x.$$click=()=>d("line"),nt(x,q(yt,{get when(){return l()=="line"},get fallback(){return(()=>{const L=sn();return K(L,"src",lr),L})()},get children(){const L=sn();return K(L,"src",cr),L}})),$.$$click=()=>d("rectangle"),nt($,q(yt,{get when(){return l()=="rectangle"},get fallback(){return(()=>{const L=Fr();return K(L,"src",ur),L})()},get children(){const L=Nr();return K(L,"src",fr),L}})),k.$$click=()=>d("text"),nt(k,q(yt,{get when(){return l()=="text"},get fallback(){return(()=>{const L=rn();return K(L,"src",pr),L})()},get children(){const L=rn();return K(L,"src",gr),L}})),he(C,"click",n,!0),K(G,"src",yr),he(H,"click",r,!0),K(Y,"src",mr),nt(b,q(Rr,{scale:y,setScale:v}),ot),ot.$$click=()=>e([]),K(ut,"src",br),lt(L=>{const Se=`${l()=="selection"?"active":""}`,_e=`${l()=="pencil"?"active":""}`,Ae=`${l()=="line"?"active":""}`,Le=`${l()=="rectangle"?"active":""}`,Oe=`${l()=="text"?"active":""}`,Ee=!s(),Te=s()?"":"disabled",Ce=!o(),Ie=o()?"":"disabled";return Se!==L._v$&&gt(m,L._v$=Se),_e!==L._v$2&&gt(w,L._v$2=_e),Ae!==L._v$3&&gt(x,L._v$3=Ae),Le!==L._v$4&&gt($,L._v$4=Le),Oe!==L._v$5&&gt(k,L._v$5=Oe),Ee!==L._v$6&&(C.disabled=L._v$6=Ee),Te!==L._v$7&&gt(C,L._v$7=Te),Ce!==L._v$8&&(H.disabled=L._v$8=Ce),Ie!==L._v$9&&gt(H,L._v$9=Ie),L},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0}),b})(),(()=>{const b=Wr(),m=b.firstChild;return nt(b,q(yt,{get when(){return V(()=>c()==="writing")()&&a()},get children(){const w=zr();return w.addEventListener("blur",R),ns(E,w),lt(x=>{const $=`${(a().start.y+1)*y()+p().y*y()-M().y}px`,k=`${a().start.x*y()+p().x*y()-M().x}px`,C=`${24*y()}px`;return $!==x._v$10&&((x._v$10=$)!=null?w.style.setProperty("top",$):w.style.removeProperty("top")),k!==x._v$11&&((x._v$11=k)!=null?w.style.setProperty("left",k):w.style.removeProperty("left")),C!==x._v$12&&((x._v$12=C)!=null?w.style.setProperty("font-size",C):w.style.removeProperty("font-size")),x},{_v$10:void 0,_v$11:void 0,_v$12:void 0}),w}}),m),m.$$mouseup=j,m.$$mousemove=A,m.$$mousedown=Q,lt(w=>{const x=window.innerWidth,$=window.innerHeight;return x!==w._v$13&&K(m,"width",w._v$13=x),$!==w._v$14&&K(m,"height",w._v$14=$),w},{_v$13:void 0,_v$14:void 0}),b})()]};te(["click","mousedown","mousemove","mouseup"]);const Br=()=>[q(Gs,{links:[{name:"Home",path:"Itervisus/"},{name:"Workspace",path:"Itervisus/workspace"}]}),q(Cs,{get children(){return[q(We,{path:"/Itervisus/",component:Ws}),q(We,{path:"/Itervisus/workspace",component:qr})]}})],Ur=document.getElementById("root");Zn(()=>q(Ts,{get children(){return q(Br,{})}}),Ur);
